{"version":3,"sources":["actions/index.js","websocket-api/handlers.js","websocket-api/index.js","utils/nameAvatarGenerator.js","MUI_theme.js","components/WorldChat/WorldChatPlayers.js","components/ChatBox/index.js","components/WorldChat/index.js","components/Header/index.js","components/GameRooms/Rooms.js","components/GameRooms/NewRoomDialog.js","components/WaitingRoom/index.js","components/GameRooms/index.js","components/ActiveGame/GameGrid.js","components/ActiveGame/index.js","requests/requestHandlers.js","requests/index.js","components/PlayerForms/index.js","components/PlayerDrawer/PlayerDetails.js","components/PlayerDrawer/index.js","components/Splash/index.js","components/404Page/index.js","components/App/index.js","reducers/worldChat.js","reducers/currentGame.js","reducers/currentPlayer.js","reducers/allGameRooms.js","reducers/index.js","serviceWorker.js","index.js"],"names":["updateGlobalPlayers","player","type","setGlobalPlayers","players","updateGlobalMessages","message","logoutUser","saveCurrentPlayer","setAllGameRooms","room","updateGameRoomList","updateGameRoom","updateActiveGame","data","updateInactiveGame","updateActiveGameMsgs","gameOver","handleWorldChat","store","dispatch","handleActiveGameUpdate","socket","openSocket","leaveWorldChat","emit","joinWorldChat","joinGameRoom","roomId","password","leaveGame","listenToActiveGame","on","unsubscribeToActiveGame","removeListener","rooms","update","updateType","includes","generateAvatar","playerName","firstLast","length","Avatar","size","theme","createMuiTheme","palette","chips","purple","deepPurple","pink","red","yellow","blue","orange","background","dark","light","lightBlue","lighter","cyan","green","lime","lightGreen","darkBlueGray","blueGrey","darkerBlueGray","darkGray","grey","darkerGray","midDarkBlue","midBlue","lighterGray","lightGray","lighterBlue","useStyles","makeStyles","root","width","height","overflow","backgroundColor","padding","spacing","borderRadius","playerCard","paper","connect","worldChat","props","classes","List","className","aria-labelledby","subheader","ListSubheader","component","id","Divider","map","player_name","ListItem","button","key","uuidv4","ListItemAvatar","ListItemText","primary","marginBottom","userName","display","newMessageForm","position","bottom","textField","margin","marginRight","submit","marginLeft","main","color","common","white","borderBottomLeftRadius","title","overflowWrap","ChatBox","messages","sendMessage","messagesEndRef","useRef","useState","newMessage","setNewMessage","autoScroll","switchAutoScroll","useEffect","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","Box","boxShadow","Typography","variant","alignItems","secondary","messageCard","ref","onFocus","onBlur","autoComplete","onSubmit","TextField","label","rowsMax","value","onChange","target","Button","onClick","endIcon","container","maxWidth","flexDirection","minHeight","breakpoints","down","paddingRight","chatToggle","right","top","zIndex","chatBox","currentPlayer","me","token","isChatActive","setChatActive","win_streak","_id","wins","losses","Switch","checked","inputProps","sendWorldMessage","flexGrow","appBar","justifyContent","menuButton","contrastText","up","toggleDrawer","AppBar","Toolbar","IconButton","aria-label","edge","cardItem","joinBtn","cardsContainer","isInRoom","maxHeight","fullMessage","avatarContainer","avatarIcon","allGameRooms","currPlayerName","joinHandler","roomPass","setRoomPass","showPassInput","setShowPassInput","passInput","Input","placeholder","input","autoFocus","noRoomsMessage","name","status","hasPassword","roomHost","hostWinRate","Math","round","isFull","isAlreadyInRoom","some","p","disabled","handleJoinClick","ListItemSecondaryAction","inputContainer","minWidth","NewRoomDialog","submitHandler","isVisible","showForm","roomName","roomPassword","formFields","setFormFields","handleForm","Dialog","open","onClose","DialogTitle","DialogContent","required","DialogActions","textAlign","shadows","leaveButton","isReady","mainCardBorder","border","playerColor","oppCardBorder","oppColor","mainReadyBtn","chip","alignSelf","chipHover","cursor","colorsContainer","alignContent","colorBoxTitle","colorsBox","opacity","opponentReadyBtn","currentGame","resetActiveGame","hues","Object","values","colors","setIsReady","mainPlayer","setMainPlayer","opponent","setOpponent","setPlayerColor","setOppColor","prevPlayers","pickRandomColor","cleared","filter","c","floor","random","chipStyleSelector","isPlayer","isOpp","chipColor","handleReady","payload","Grid","wrap","Fab","item","xs","ifMain","opponentBtn","Grow","in","clientId","hue","bgcolor","titleContainer","roomsContainer","currRoomStatus","formVisible","setIsInRoom","handleShowForm","bool","handleLeave","availableRooms","startIcon","to","createNewGameRoom","leaveHandler","turnIndicator","isPlayerTurn","opp","gridContainer","column","dispaly","slot","borderColor","emptySlot","oppWin","mainWin","isActive","highlightSlot","highlightBorder","borderWidth","mainBg","oppBg","addChipIcon","addChipBtn","reMatchBox","slotProps","m","grid","gridX","currentTurn","prevSlot","winner","gameStatus","resetGame","resetPlayerReady","setMain","showWaitRoom","setShowWaitRoom","prevState","xCoordinate","setCoordinate","handleSlotStyle","hovered","isBottom","handleHovered","colId","parentElement","split","parseInt","handleChipPlacement","placePlayerChip","onMouseLeave","idx","bottomIdx","isHovered","i","onMouseEnter","gridSlot","isNew","join","bottomHoveredSlot","Fade","defaultSlot","newSlot","timeout","flexWrap","marginTop","resetGameGrid","handlers","routes","login","signup","anonLogin","noTokenPost","route","fetch","method","body","JSON","stringify","headers","loginViaEmail","this","signupUser","loginViaToken","Authorization","anonymousLogin","handler","parse","localStorage","getItem","console","log","inputsContainer","loadingIcon","optionButton","error","PlayerForms","loginValues","setLoginValues","signUpValues","setSignUpValues","showSignUpForm","setShowSignUpForm","showAnonLoginForm","setShowAnonLoginForm","errors","setErrors","isLoading","setLoading","handleLoginForm","handleSignUpForm","withSpace","replace","withoutSpace","verifySignUpParams","param","readable","push","toUpperCase","confirm_password","CircularProgress","signUpUser","a","email","secret_one","secret_two","request","res","ok","json","registerPlayer","loginAnonymously","anon","loginUser","generateErrors","err","optionButtons","anonForm","maxLength","registerForm","loginForm","infoContainer","gameHistoryList","PlayerDetails","games_played","game_history","gutterBottom","match","vs_player","historyText","is_winner","drawer","flexShrink","toolbar","mixins","drawerPaper","fixedMenu","menuList","link","textDecoration","deletePlayer","selectedItem","setSelectedItem","drawers","Tooltip","ListItemIcon","generateSelectedItem","removeItem","Hidden","smUp","implementation","Drawer","anchor","ModalProps","keepMounted","xsDown","chipOne","chipTwo","Splash","randomizedColors","sort","currSlot","setCurrSlot","currChip","setCurrChip","setGrid","placeRandomChip","useCallback","randIdx","copy","timout","setInterval","clearInterval","connectFourGrid","j","ifNew","colorChip","slidingChip","direction","paddingTop","FourOhFourPage","homePgContainer","homePgItem","loginPageContainer","savePlayer","isDrawerOpen","openDrawer","setError","handleDrawerToggle","setItem","tokenLogin","exact","path","render","state","action","update_type","idxFound","findIndex","splice","initialState","gridCopy","r","rootReducer","combineReducers","Boolean","window","location","hostname","createStore","composeWithDevTools","ReactDOM","CssBaseline","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d11bee13.chunk.js","sourcesContent":["/// GLOBAL CHAT ACTIIONS\nexport const updateGlobalPlayers = player => ({\n  type: 'UPDATE_GLOBAL_PLAYERS',\n  player\n});\n\nexport const setGlobalPlayers = players => ({\n  type: 'SET_GLOBAL_PLAYERS',\n  players\n})\n\nexport const updateGlobalMessages = message => ({\n  type: 'UPDATE_GLOBAL_MESSAGES',\n  message\n});\n\n/// APPLICATION ACTION\nexport const logoutUser = () => ({\n  type: 'LOGOUT_USER'\n})\n\n/// PLAYER INFO\nexport const saveCurrentPlayer = player => ({\n  type: 'SAVE_PLAYER_INFO',\n  player\n})\n\n\n/// GAME ROOMS ACTIONS\nexport const setAllGameRooms = room => ({\n  type: 'SET_ALL_GAME_ROOMS',\n  room\n})\n\nexport const updateGameRoomList = room => ({\n  type: 'UPDATE_GAME_ROOM_LIST',\n  room\n})\n\nexport const updateGameRoom = room => ({\n  type: 'UPDATE_A_GAME_ROOM',\n  room\n})\n\n\n/// IN GAME ACTIION\nexport const updateActiveGame = data => ({\n  type: 'UPDATE_ACTIVE_GAME',\n  data\n})\n\nexport const updateInactiveGame = data => ({\n  type: 'UPDATE_INACTIVE_GAME',\n  data\n})\n\nexport const leaveActiveGame = () => ({\n  type: 'LEAVE_ACTIVE_GAME',\n})\n\nexport const updateActiveGameMsgs = data => ({\n  type: 'UPDATE_ACTIVE_GAME_MSGS',\n  data\n})\n\nexport const gameOver = data => ({\n  type: 'GAME_OVER',\n  data\n})\n\nexport const rematchReset = () => ({\n  type: 'REMATCH_GAME_RESET',\n})\n\nexport const resetReady = () => ({\n  type: 'RESET_PLAYER_READY',\n})\n\nexport const resetGrid = () => ({\n  type: 'RESET_GRID',\n})\n","import {\n\tupdateGlobalPlayers,\n\tupdateActiveGame,\n\tupdateGlobalMessages,\n\tsetGlobalPlayers,\n\tsetAllGameRooms,\n\tupdateGameRoomList,\n\tupdateGameRoom,\n\tupdateActiveGameMsgs,\n\tupdateInactiveGame,\n\tgameOver,\n\tlogoutUser\n} from \"../actions\";\nimport store from \"../index\";\n\nexport function handleWorldChat(data) {\n\tconst { type } = data;\n\tif (type === \"player\") {\n\t\tstore.dispatch(updateGlobalPlayers(data));\n\t} else if (type === \"message\" || type === \"notification\") {\n\t\tstore.dispatch(updateGlobalMessages(data));\n\t}\n}\n\nexport function handleAllWorldPlayers(players) {\n\tstore.dispatch(setGlobalPlayers(players));\n}\n\nexport function handleAllGameRooms(rooms) {\n\tstore.dispatch(setAllGameRooms(rooms));\n}\n\nexport function handleGameRoomUpdate(update) {\n\tconst { updateType } = update;\n\tif ([\"addRoom\", \"deleteRoom\"].includes(updateType)) {\n\t\tstore.dispatch(updateGameRoomList(update));\n\t} else if (updateType === \"updateRoom\") {\n\t\tstore.dispatch(updateGameRoom(update));\n\t}\n}\n\nexport function handleActiveGameUpdate(data) {\n\tconst { type } = data;\n\n\tif (type === \"message\" || type === \"notification\") {\n\t\tstore.dispatch(updateActiveGameMsgs(data));\n\t} else if (type === \"inactiveUpdate\") {\n\t\tstore.dispatch(updateInactiveGame(data));\n\t} else if (type === \"activeUpdate\") {\n\t\tstore.dispatch(updateActiveGame(data));\n\t} else if (type === \"gameOver\") {\n\t\tstore.dispatch(gameOver(data));\n\t}\n}\n\nexport function handleDisconnect() {\n\tstore.dispatch(logoutUser());\n}\n","import openSocket from \"socket.io-client\";\nimport {\n\thandleWorldChat,\n\thandleAllWorldPlayers,\n\thandleAllGameRooms,\n\thandleGameRoomUpdate,\n\thandleActiveGameUpdate,\n\thandleDisconnect\n} from \"./handlers\";\n\nconst socket = openSocket(\"https://connect-four-be.herokuapp.com/\");\n\nsocket.on(\"world chat update\", handleWorldChat);\nsocket.on(\"send world chat players\", handleAllWorldPlayers);\n\nsocket.on(\"send all game rooms\", handleAllGameRooms);\nsocket.on(\"game rooms update\", handleGameRoomUpdate);\nsocket.on(\"disconnect\", handleDisconnect);\n\nexport function sendWorldMessage(message) {\n\tsocket.emit(\"broadcast to world chat\", message);\n}\n\nexport function leaveWorldChat() {\n\tsocket.emit(\"leave world chat\");\n}\n\nexport function joinWorldChat(player) {\n\tsocket.emit(\"join world chat\", player);\n}\n\nexport function getWorldChatPlayers() {\n\tsocket.emit(\"get world chat players\");\n}\n\nexport function subscribeToWorldChat() {\n\tsocket.on(\"world chat update\", handleWorldChat);\n}\n\nexport function registerClient(token) {\n\tsocket.emit(\"register client\", token);\n}\n\nexport function removeClient(token) {\n\tsocket.emit(\"remove client\", token);\n}\n\nexport function createNewGameRoom(name, password = \"\") {\n\tsocket.emit(\"create game room\", { name, password });\n}\n\nexport function joinGameRoom(roomId, password = \"\") {\n\tsocket.emit(\"join game room\", { roomId, password });\n}\n\nexport function leaveGame() {\n\tsocket.emit(\"leave game room\");\n}\n\nexport function listenToActiveGame() {\n\tsocket.on(\"active game update\", handleActiveGameUpdate);\n}\n\nexport function unsubscribeToActiveGame() {\n\tsocket.removeListener(\"active game update\");\n}\n\nexport function setPlayerReady(data) {\n\tsocket.emit(\"set player ready\", data);\n}\n\nexport function placePlayerChip(xCoordinate) {\n\tsocket.emit(\"place player chip\", xCoordinate);\n}\n\nexport function sendInGameMessage(payload) {\n\tsocket.emit(\"send in game message\", payload);\n}\n","import React from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst generateAvatar = playerName => {\n\tconst firstLast = playerName[0] + playerName[playerName.length - 1];\n\n\treturn <Avatar size=\"small\">{firstLast}</Avatar>;\n};\n\nexport default generateAvatar;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport {\n\tred,\n\tblue,\n\tdeepPurple,\n\tyellow,\n\tcyan,\n\tlime,\n\tblueGrey,\n\tgrey,\n\tlightBlue,\n\tlightGreen,\n\torange,\n\tpink\n} from \"@material-ui/core/colors\";\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tchips: {\n\t\t\tpurple: deepPurple[\"500\"],\n\t\t\tpink: pink[\"A200\"],\n\t\t\tred: red[\"500\"],\n\t\t\tyellow: yellow[\"A200\"],\n\t\t\tblue: blue[\"500\"],\n\t\t\torange: orange[\"A400\"]\n\t\t},\n\t\tbackground: {\n\t\t\tblue: {\n\t\t\t\tdark: blue[\"A700\"],\n\t\t\t\tlight: lightBlue[\"A700\"],\n\t\t\t\tlighter: lightBlue[\"100\"],\n\t\t\t\tcyan: cyan[\"A400\"]\n\t\t\t},\n\t\t\tgreen: {\n\t\t\t\tlime: lime[\"A700\"],\n\t\t\t\tlight: lightGreen[\"A700\"]\n\t\t\t},\n\t\t\tred: {\n\t\t\t\tred: red[\"A400\"]\n\t\t\t}\n\t\t},\n\t\tdark: {\n\t\t\tdarkBlueGray: blueGrey[\"800\"],\n\t\t\tdarkerBlueGray: blueGrey[\"900\"],\n\t\t\tdarkGray: grey[\"800\"],\n\t\t\tdarkerGray: grey[\"900\"],\n\t\t\tmidDarkBlue: blueGrey[\"400\"],\n\t\t\tmidBlue: blueGrey[\"300\"]\n\t\t},\n\t\tlight: {\n\t\t\tlighterGray: grey[\"50\"],\n\t\t\tlightGray: grey[\"200\"],\n\t\t\tlighterBlue: blueGrey[\"50\"],\n\t\t\tlightBlue: blueGrey[\"200\"]\n\t\t}\n\t}\n});\n\nexport default theme;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Divider } from \"@material-ui/core\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport generateAvatar from \"../../utils/nameAvatarGenerator\";\nimport theme from \"../../MUI_theme\";\nimport uuidv4 from \"uuid/v4\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\theight: \"40%\",\n\t\toverflow: \"scroll\",\n\t\tbackgroundColor: ({ palette }) => palette.light.lighterBlue,\n\t\tpadding: theme.spacing(1),\n\t\tborderRadius: theme.spacing(0, 0, 1, 1)\n\t},\n\tplayerCard: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tborderRadius: \"5px\"\n\t}\n}));\n\nfunction WorldChatPlayers(props) {\n\tconst classes = useStyles(theme);\n\tconst { players } = props;\n\n\tconst generatePlayerCards = () =>\n\t\tplayers.map(player => {\n\t\t\tconst { player_name } = player;\n\t\t\treturn (\n\t\t\t\t<ListItem button className={classes.playerCard} key={uuidv4()}>\n\t\t\t\t\t<ListItemAvatar>{generateAvatar(player_name)}</ListItemAvatar>\n\t\t\t\t\t<ListItemText primary={player_name} />\n\t\t\t\t\t<Divider />\n\t\t\t\t</ListItem>\n\t\t\t);\n\t\t});\n\n\treturn (\n\t\t<List\n\t\t\tclassName={classes.root}\n\t\t\taria-labelledby=\"world-chat-players\"\n\t\t\tsubheader={\n\t\t\t\t<ListSubheader component=\"div\" id=\"world-chat-players\">\n\t\t\t\t\tOnline Players\n\t\t\t\t</ListSubheader>\n\t\t\t}\n\t\t>\n\t\t\t<Divider />\n\t\t\t{generatePlayerCards()}\n\t\t</List>\n\t);\n}\n\nconst mapStateToProps = ({ worldChat }) => ({\n\tplayers: worldChat.players\n});\n\nexport default connect(mapStateToProps)(WorldChatPlayers);\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Send from \"@material-ui/icons/Send\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport theme from \"../../MUI_theme\";\nimport uuidv4 from \"uuid/v4\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tborderRadius: \"10px\",\n\t\tmarginBottom: \"55px\",\n\t\toverflow: \"scroll\",\n\t\tbackgroundColor: theme.palette.background.paper\n\t},\n\tuserName: {\n\t\tdisplay: \"inline\"\n\t},\n\tnewMessageForm: {\n\t\tdisplay: \"flex\",\n\t\tposition: \"absolute\",\n\t\tbottom: 0,\n\t\twidth: \"100%\"\n\t},\n\ttextField: {\n\t\tmargin: theme.spacing(1, 0),\n\t\twidth: \"90%\",\n\t\tmarginRight: 0,\n\t\tbackground: theme.palette.background.paper\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(1, 0),\n\t\tmarginLeft: 0,\n\t\tbackground: theme.palette.primary.main,\n\t\tcolor: theme.palette.common.white,\n\t\tborderBottomLeftRadius: 0\n\t},\n\ttitle: {\n\t\twidth: \"100%\",\n\t\tpadding: theme.spacing(1, 2),\n\t\tbackground: ({ palette }) => palette.light.lighterBlue\n\t},\n\tmessage: {\n\t\twidth: \"95%\",\n\t\toverflowWrap: \"break-word\",\n\t\tcolor: ({ palette }) => palette.dark.darkerBlueGray\n\t}\n}));\n\nfunction ChatBox(props) {\n\tconst classes = useStyles(theme);\n\tconst { messages, sendMessage, title } = props;\n\tconst messagesEndRef = useRef(null);\n\tconst [newMessage, setNewMessage] = useState(\"\");\n\tconst [autoScroll, switchAutoScroll] = useState(false);\n\n\tconst scrollToBottom = () => {\n\t\tmessagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n\t};\n\n\tuseEffect(() => {\n\t\tif (autoScroll) {\n\t\t\tscrollToBottom();\n\t\t}\n\t}, [props.messages, autoScroll]);\n\n\tconst messageCard = (message, player_name = false, type) => (\n\t\t<ListItem\n\t\t\tkey={uuidv4()}\n\t\t\talignItems=\"flex-start\"\n\t\t\tclassName={classes.message}\n\t\t>\n\t\t\t<ListItemText\n\t\t\t\tclassName={classes.message}\n\t\t\t\tprimary={\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\tclassName={classes.userName}\n\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{type === \"message\" && `${player_name}: `}\n\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t\tsecondary={\n\t\t\t\t\t<Typography component=\"span\" variant=\"body2\">\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Typography>\n\t\t\t\t}\n\t\t\t/>\n\t\t</ListItem>\n\t);\n\n\tconst generateMessageCards = () =>\n\t\tmessages.map(({ message, player_name, type }) =>\n\t\t\tmessageCard(message, player_name, type)\n\t\t);\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tif (newMessage.length > 0) {\n\t\t\tsendMessage(newMessage);\n\t\t\tsetNewMessage(\"\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<Box boxShadow={3} className={classes.root}>\n\t\t\t<Typography variant=\"h6\" className={classes.title}>\n\t\t\t\t{title}\n\t\t\t</Typography>\n\t\t\t<List>\n\t\t\t\t{generateMessageCards()}\n\t\t\t\t<div ref={messagesEndRef} />\n\t\t\t</List>\n\t\t\t<form\n\t\t\t\tonFocus={() => switchAutoScroll(true)}\n\t\t\t\tonBlur={() => switchAutoScroll(false)}\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tclassName={classes.newMessageForm}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-multiline-flexible\"\n\t\t\t\t\tlabel=\"Message\"\n\t\t\t\t\trowsMax=\"4\"\n\t\t\t\t\tvalue={newMessage}\n\t\t\t\t\tonChange={({ target }) => setNewMessage(target.value)}\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\tendIcon={<Send />}\n\t\t\t\t>\n\t\t\t\t\tSend\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Box>\n\t);\n}\n\nexport default ChatBox;\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n\tjoinWorldChat,\n\tsendWorldMessage,\n\tleaveWorldChat,\n\tgetWorldChatPlayers\n} from \"../../websocket-api\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport WorldChatPlayers from \"./WorldChatPlayers\";\nimport Switch from \"@material-ui/core/Switch\";\nimport theme from \"../../MUI_theme\";\nimport ChatBox from \"../ChatBox\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontainer: {\n\t\tpadding: theme.spacing(2, 0, 2, 2),\n\t\tmargin: \"auto\",\n\t\tmaxWidth: \"700px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\",\n\t\tminHeight: \"92vh\",\n\t\theight: \"100%\",\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tpaddingRight: theme.spacing(2)\n\t\t}\n\t},\n\tchatToggle: {\n\t\tposition: \"absolute\",\n\t\tright: \"10px\",\n\t\ttop: \"20px\",\n\t\tzIndex: 1\n\t},\n\tchatBox: {\n\t\theight: \"60%\",\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tposition: \"relative\",\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tborderRadius: theme.spacing(1, 1, 0, 0)\n\t}\n}));\n\nfunction WorldChat(props) {\n\tconst classes = useStyles(theme);\n\tconst [isChatActive, setChatActive] = useState(true);\n\tconst { me, messages } = props;\n\tconst { player_name, win_streak, _id, wins, losses } = me;\n\n\tconst leaveChat = () => {\n\t\tleaveWorldChat();\n\t};\n\tconst handleChatToggle = () => {\n\t\tif (isChatActive) {\n\t\t\tleaveChat();\n\t\t} else {\n\t\t\tjoinWorldChat({ player_name, win_streak, _id, wins, losses });\n\t\t}\n\t\tsetChatActive(!isChatActive);\n\t};\n\n\tconst handleSendMessage = message => {\n\t\tsendWorldMessage(message);\n\t};\n\n\tuseEffect(() => {\n\t\tjoinWorldChat({ player_name, win_streak, _id, wins, losses });\n\t\tgetWorldChatPlayers();\n\t}, [player_name, win_streak, _id, wins, losses]);\n\n\treturn (\n\t\t<Box className={classes.container}>\n\t\t\t<Switch\n\t\t\t\tchecked={isChatActive}\n\t\t\t\tonChange={handleChatToggle}\n\t\t\t\tclassName={classes.chatToggle}\n\t\t\t\tvalue=\"checkedB\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tinputProps={{ \"aria-label\": \"Join/leave world chat\" }}\n\t\t\t/>\n\t\t\t<Box className={classes.chatBox}>\n\t\t\t\t<ChatBox\n\t\t\t\t\tmessages={messages}\n\t\t\t\t\tsendMessage={handleSendMessage}\n\t\t\t\t\ttitle={\"World Chat:\"}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<WorldChatPlayers />\n\t\t</Box>\n\t);\n}\n\nconst mapStateToProps = ({ worldChat, currentPlayer }) => ({\n\tmessages: worldChat.messages,\n\tme: currentPlayer.player,\n\ttoken: currentPlayer.token\n});\n\nexport default connect(mapStateToProps)(WorldChat);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport theme from \"../../MUI_theme\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\twidth: \"100vw\"\n\t},\n\tappBar: {\n\t\tbackground: ({ palette }) => palette.dark.darkBlueGray,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\"\n\t},\n\ttitle: {\n\t\tflexGrow: 1,\n\t\tcolor: ({ palette }) => palette.light.lighterGray\n\t},\n\tmenuButton: {\n\t\tmarginRight: theme.spacing(2),\n\t\tcolor: theme.palette.primary.contrastText,\n\t\t[theme.breakpoints.up(\"lg\")]: {\n\t\t\tdisplay: \"none\"\n\t\t}\n\t}\n}));\n\nfunction Header(props) {\n\tconst classes = useStyles(theme);\n\tconst { toggleDrawer } = props;\n\n\treturn (\n\t\t<>\n\t\t\t<header className={classes.root}>\n\t\t\t\t<AppBar position=\"static\" className={classes.appBar}>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h4\" className={classes.title}>\n\t\t\t\t\t\t\tConnect 4 Friends\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{props.player && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\t\tedge=\"start\"\n\t\t\t\t\t\t\t\tonClick={toggleDrawer}\n\t\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t</header>\n\t\t</>\n\t);\n}\n\nconst mapStateToProps = ({ currentPlayer }) => ({\n\tplayer: currentPlayer.player || false\n});\n\nexport default connect(mapStateToProps)(Header);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport generateAvatar from '../../utils/nameAvatarGenerator';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport Button from '@material-ui/core/Button';\nimport LockIcon from '@material-ui/icons/Lock';\nimport Typography from '@material-ui/core/Typography';\nimport theme from '../../MUI_theme';\nimport Input from '@material-ui/core/Input';\n\nconst useStyles = makeStyles(theme => ({\n  cardItem: {\n    backgroundColor: ({palette}) => palette.background.blue.lighter,\n    color: ({palette}) => palette.dark.darkerBlueGray,\n    borderRadius: '5px',\n    marginBottom: '10px'\n  },\n  joinBtn: {\n    marginRight: theme.spacing(2),\n    background: theme.palette.background.paper,\n    '&:hover': {\n      background: ({palette}) => palette.background.green.light\n    },\n    [theme.breakpoints.down('sm')]: {\n      padding: '5px'\n    },\n  },\n  cardsContainer: {\n    padding: theme.spacing(1),\n    height: ({isInRoom}) => isInRoom ? '51vh' : '87vh',\n    [theme.breakpoints.down('sm')]: {\n      maxHeight: '43vh'\n    },\n    overflow: 'scroll',\n  },\n  fullMessage: {\n    color: theme.palette.common.white\n  },\n  avatarContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    [theme.breakpoints.down('sm')]: {\n      flexDirection: 'column'\n    },\n  },\n  avatarIcon: {\n    padding: '5px'\n  }\n}));\n\nfunction Rooms({isInRoom, allGameRooms, joinHandler, currPlayerName}) { \n  const [roomPass, setRoomPass] = useState('');\n  const [showPassInput, setShowPassInput] = useState(false);\n  const classes = useStyles({...theme, isInRoom});\n\n  const passInput = (\n    <Input\n      placeholder=\"Password\"\n      className={classes.input}\n      value={roomPass}\n      onChange={(e) => setRoomPass(e.target.value)}\n      onBlur={() => setShowPassInput(false)}\n      autoFocus\n      inputProps={{\n        'aria-label': 'room password input',\n      }}\n    />\n  );\n\n  const handleJoinClick = (roomId, hasPassword) => {\n    if (hasPassword && !roomPass.length) {\n      setShowPassInput(true);\n    } else {\n      joinHandler(roomId, roomPass);\n      setRoomPass('');\n    }\n  };\n\n  const generateGameRooms = () => {\n    return allGameRooms.map(room => {\n      const { roomId, players, name, status, hasPassword } = room;\n      const roomHost = players[0] || players[1];\n      const { player_name, win_streak, wins, losses } = roomHost;\n      const hostWinRate = Math.round((wins / (wins + losses)) * 100)\n      const isFull = status === 'full';\n      const isAlreadyInRoom = players.some(p => {\n        if (p !== null) {\n          return p.player_name === currPlayerName;\n        } else {\n          return false;\n        }\n      });\n\n      return (\n        <ListItem key={roomId} className={classes.cardItem}>\n          <Button\n            disabled={isFull || isAlreadyInRoom}\n            variant=\"contained\"\n            onClick={() => handleJoinClick(roomId, hasPassword)}\n            className={classes.joinBtn}\n            endIcon={hasPassword || isFull ? <LockIcon/> : <ArrowForwardIcon />}\n          >\n            {isFull ? 'Full' : 'Join'}\n          </Button>\n          <ListItemText\n            primary={showPassInput ? passInput : name }\n            secondary={player_name}\n          />\n          <ListItemSecondaryAction className={classes.avatarContainer}>\n              <Typography variant=\"subtitle2\">\n                { `Win Rate: ${hostWinRate > 0 ? hostWinRate : 0}%` }\n              </Typography>\n            <IconButton className={classes.avatarIcon} edge=\"end\" aria-label=\"requires-password\">\n              {generateAvatar(player_name)}\n            </IconButton>\n          </ListItemSecondaryAction>\n        </ListItem>\n      );\n    }) \n  }\n\n  const noRoomsMessage = (\n    <>\n      <Typography className={classes.fullMessage} variant=\"h5\">\n        No Rooms Available\n      </Typography>\n      <Typography className={classes.fullMessage} variant=\"subtitle1\">\n        Click \"NEW ROOM\" to create a new one\n      </Typography>\n    </>\n  );\n\n  return (\n    <List className={classes.cardsContainer}>\n      {!allGameRooms.length \n        ? noRoomsMessage \n        : generateGameRooms()}    \n    </List>\n  )\n}\n\nconst mapStateToProps = ({ allGameRooms, currentPlayer }) => ({\n  allGameRooms,\n  currPlayerName: currentPlayer.player.player_name,\n})\n\nexport default connect(mapStateToProps)(Rooms);","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  inputContainer: {\n    display: 'flex',\n    width: '30vw',\n    maxWidth: '550px',\n    minWidth: '280px',\n    flexDirection: 'column'\n  }\n}));\n\nexport default function NewRoomDialog({submitHandler, isVisible, showForm }) {\n  const classes = useStyles();\n  const [formFields, setFormFields] = useState({roomName: '', roomPassword: ''});\n\n  const handleForm = ({ target }) => setFormFields({ ...formFields, [target.name]: target.value });\n\n  const handleCreate = () => {\n    if (formFields.roomName.length > 2) {\n      submitHandler(formFields);\n      setFormFields({roomName: '', roomPassword: ''});\n    }\n  };\n\n  return (\n    <Dialog open={isVisible} onClose={() => showForm(false)} aria-labelledby=\"Create new room\">\n      <DialogTitle id=\"Create new room\">Create New Room</DialogTitle>\n      <DialogContent className={classes.inputContainer}>\n        <TextField\n          autoFocus\n          required\n          margin=\"dense\"\n          onChange={handleForm}\n          label=\"Name (3-35 Chars)\"\n          type=\"text\"\n          name=\"roomName\"\n          inputProps={{'maxLength': '45', 'autoComplete': 'off'}}\n        />\n        <TextField\n          margin=\"dense\"\n          onChange={handleForm}\n          label=\"Password (Optional)\"\n          type=\"text\"\n          name=\"roomPassword\"\n          inputProps={{'maxLength': '15', 'autoComplete': 'off'}}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCreate} color=\"primary\">\n          Create\n        </Button>\n        <Button onClick={() => showForm(false)} color=\"primary\">\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}","import React, { useState, useEffect, useRef } from \"react\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport generateAvatar from \"../../utils/nameAvatarGenerator\";\nimport colors from \"../../MUI_theme\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { setPlayerReady } from \"../../websocket-api\";\nimport { Grid } from \"@material-ui/core\";\nimport { Grow } from \"@material-ui/core\";\nimport { unsubscribeToActiveGame, leaveGame } from \"../../websocket-api\";\nimport { leaveActiveGame } from \"../../actions\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tmaxWidth: \"700px\",\n\t\tmarginBottom: \"10px\",\n\t\tpadding: theme.spacing(3, 2, 2, 2),\n\t\tbackground: ({ palette }) => palette.light.lighterBlue,\n\t\tposition: \"relative\",\n\t\ttextAlign: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tborderRadius: \"10px\"\n\t},\n\tplayerCard: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-around\",\n\t\tpadding: \"20px 0\",\n\t\tborderRadius: \"20px\",\n\t\tmargin: \"10px auto\",\n\t\tboxShadow: theme.shadows[2]\n\t},\n\tleaveButton: {\n\t\tposition: \"absolute\",\n\t\ttop: theme.spacing(2),\n\t\tright: theme.spacing(2)\n\t},\n\tisReady: {\n\t\tbackground: ({ palette }) => palette.dark.midDarkBlue,\n\t\tcolor: \"#FFFFFF\"\n\t},\n\tmainCardBorder: {\n\t\tborder: ({ playerColor }) =>\n\t\t\t`8px solid ${!!playerColor.length ? playerColor : \"white\"}`\n\t},\n\toppCardBorder: {\n\t\tborder: ({ oppColor }) =>\n\t\t\t`8px solid ${!!oppColor.length ? oppColor : \"white\"}`\n\t},\n\tmainReadyBtn: {\n\t\tmargin: theme.spacing(1)\n\t},\n\tchip: {\n\t\theight: \"6vw\",\n\t\twidth: \"6vw\",\n\t\tmaxWidth: \"80px\",\n\t\tmaxHeight: \"80px\",\n\t\talignSelf: \"flex-end\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\twidth: \"9vw\",\n\t\t\theight: \"9vw\",\n\t\t\tminWidth: \"40px\",\n\t\t\tminHeight: \"40px\"\n\t\t}\n\t},\n\tchipHover: {\n\t\t\"&:hover\": {\n\t\t\tborder: ({ palette }) => `6px solid ${palette.light.lighterBlue}`,\n\t\t\tcursor: \"pointer\"\n\t\t}\n\t},\n\tcolorsContainer: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-around\",\n\t\talignContent: \"center\",\n\t\tmargin: \"10px\"\n\t},\n\tcolorBoxTitle: {\n\t\ttextAlign: \"center\",\n\t\tcolor: ({ palette }) => palette.light.lighterGray,\n\t\tborderRadius: \"5px 5px 0 0\",\n\t\tbackground: ({ palette }) => palette.dark.darkBlueGray\n\t},\n\tcolorsBox: {\n\t\tborderRadius: \"5px\",\n\t\tboxShadow: theme.shadows[2],\n\t\tdisplay: \"flex\",\n\t\tbackground: ({ palette }) => palette.light.lightBlue,\n\t\tflexDirection: \"column\"\n\t},\n\tplayerColor: {\n\t\tborder: ({ palette }) => `6px solid ${palette.dark.darkerBlueGray}`\n\t},\n\toppColor: {\n\t\tcursor: \"not-allowed\",\n\t\topacity: \".1\",\n\t\tborder: ({ palette }) => `6px solid ${palette.light.lightGray}`\n\t},\n\topponentReadyBtn: {\n\t\tpadding: \"5px 10px\",\n\t\tborderRadius: \"10px\"\n\t}\n}));\n\nfunction WaitingRoom(props) {\n\tconst hues = Object.values(colors.palette.chips);\n\tconst [isReady, setIsReady] = useState(false);\n\tconst [mainPlayer, setMainPlayer] = useState({});\n\tconst [opponent, setOpponent] = useState({});\n\tconst [playerColor, setPlayerColor] = useState(\"\");\n\tconst [oppColor, setOppColor] = useState(\"\");\n\tconst { players, currPlayerName, resetActiveGame } = props;\n\tconst prevPlayers = useRef(props.players);\n\tconst classes = useStyles({ ...colors, oppColor, playerColor });\n\n\tconst pickRandomColor = () => {\n\t\tconst cleared = [...hues].filter(c => c !== oppColor);\n\t\treturn cleared[Math.floor(Math.random() * cleared.length)];\n\t};\n\n\tconst handleLeave = () => {\n\t\tunsubscribeToActiveGame();\n\t\tleaveGame();\n\t\tresetActiveGame();\n\t};\n\n\tconst chipStyleSelector = (isPlayer, isOpp) => {\n\t\tconst { playerColor, oppColor, chip, chipHover } = classes;\n\t\tswitch (true) {\n\t\t\tcase isPlayer:\n\t\t\t\treturn `${chip} ${playerColor}`;\n\t\t\tcase isOpp:\n\t\t\t\treturn `${chip} ${oppColor}`;\n\t\t\tdefault:\n\t\t\t\treturn `${chip} ${chipHover}`;\n\t\t}\n\t};\n\n\tconst handleColorSelect = color => {\n\t\tif (color !== oppColor) {\n\t\t\tsetPlayerColor(color);\n\t\t}\n\t};\n\n\tconst generateChips = () =>\n\t\thues.map(hue => {\n\t\t\tconst isPlayer = hue === playerColor;\n\t\t\tconst isOpp = hue === oppColor;\n\t\t\treturn (\n\t\t\t\t<Box\n\t\t\t\t\tonClick={() => handleColorSelect(hue)}\n\t\t\t\t\tboxShadow={3}\n\t\t\t\t\tkey={hue}\n\t\t\t\t\tborderRadius=\"50%\"\n\t\t\t\t\tbgcolor={hue}\n\t\t\t\t\tclassName={chipStyleSelector(isPlayer, isOpp)}\n\t\t\t\t></Box>\n\t\t\t);\n\t\t});\n\n\tuseEffect(() => {\n\t\tif (players !== prevPlayers) {\n\t\t\tfor (let player of players) {\n\t\t\t\tconst p = player || {};\n\t\t\t\tif (p.player_name === currPlayerName) {\n\t\t\t\t\tsetMainPlayer(p);\n\t\t\t\t\tsetPlayerColor(p.chipColor || \"\");\n\t\t\t\t} else {\n\t\t\t\t\tsetOpponent(p);\n\t\t\t\t\tsetOppColor(p.chipColor || \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [players, prevPlayers, currPlayerName]);\n\n\tconst handleReady = () => {\n\t\tconst payload = {\n\t\t\tisReady: !isReady,\n\t\t\tchipColor: !!playerColor.length ? playerColor : pickRandomColor()\n\t\t};\n\t\tsetPlayerReady(payload);\n\t\tsetIsReady(!isReady);\n\t};\n\n\tconst generatePlayerCards = () =>\n\t\tplayers.map(player => {\n\t\t\tconst { playerCard, mainCardBorder, oppCardBorder, isReady } = classes;\n\t\t\tlet p = player || {};\n\t\t\tconst ifMain = p === mainPlayer;\n\n\t\t\tconst opponentBtn = (\n\t\t\t\t<Box className={classes.opponentReadyBtn} boxShadow={3}>\n\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t{opponent.isReady ? \"READY!\" : \"Not Ready\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t);\n\n\t\t\tconst createCard = () => (\n\t\t\t\t<Grow in={!!p.player_name} key={p.clientId || \"OPPONENT\"}>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\titem\n\t\t\t\t\t\txs={5}\n\t\t\t\t\t\tclassName={`${playerCard} ${\n\t\t\t\t\t\t\tifMain ? mainCardBorder : oppCardBorder\n\t\t\t\t\t\t} ${p.isReady && isReady}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!!p.player_name && generateAvatar(p.player_name)}\n\t\t\t\t\t\t<Typography variant=\"h6\">{p.player_name}</Typography>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t{ifMain && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleReady}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor={p.isReady ? \"primary\" : \"inherit\"}\n\t\t\t\t\t\t\t\t\tclassName={classes.mainReadyBtn}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{p.isReady ? \"Ready!\" : \"Ready?\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!!opponent.player_name && !ifMain && opponentBtn}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grow>\n\t\t\t);\n\n\t\t\treturn createCard();\n\t\t});\n\n\treturn (\n\t\t<Grid className={classes.root} container wrap=\"wrap\">\n\t\t\t<Fab\n\t\t\t\tcolor=\"inherit\"\n\t\t\t\taria-label=\"leave room\"\n\t\t\t\tclassName={classes.leaveButton}\n\t\t\t\tsize=\"small\"\n\t\t\t\tonClick={handleLeave}\n\t\t\t>\n\t\t\t\t<CloseIcon />\n\t\t\t</Fab>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Waiting for Opponent</Typography>\n\t\t\t</Grid>\n\t\t\t{generatePlayerCards()}\n\t\t\t<Grid item xs={12} className={classes.colorsBox}>\n\t\t\t\t<Typography variant=\"subtitle1\" className={classes.colorBoxTitle}>\n\t\t\t\t\tChoose Your Color\n\t\t\t\t</Typography>\n\t\t\t\t<Box className={classes.colorsContainer}>{generateChips()}</Box>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nconst mapStateToProps = ({ currentGame, currentPlayer }) => ({\n\tplayers: currentGame.players,\n\tcurrPlayerName: currentPlayer.player.player_name\n});\n\nconst mapDispatchToProps = dispatch => ({\n\tresetActiveGame: () => dispatch(leaveActiveGame())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WaitingRoom);\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n\tunsubscribeToActiveGame,\n\tcreateNewGameRoom,\n\tjoinGameRoom,\n\tlistenToActiveGame,\n\tleaveGame\n} from \"../../websocket-api\";\nimport { leaveActiveGame } from \"../../actions\";\nimport Rooms from \"./Rooms\";\nimport NewRoomDialog from \"./NewRoomDialog\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport WaitingRoom from \"../WaitingRoom\";\nimport theme from \"../../MUI_theme\";\nimport Box from \"@material-ui/core/Box\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tmaxWidth: \"700px\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tmargin: \"auto\",\n\t\tpadding: theme.spacing(2),\n\t\tjustifyContent: \"space-between\",\n\t\tflexDirection: \"column\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\theight: ({ isInRoom }) => (isInRoom ? \"100vh\" : \"51vh\")\n\t\t}\n\t},\n\ttitleContainer: {\n\t\tborderRadius: \"5px 5px 0 0\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\tpadding: theme.spacing(1, 1, 1, 2),\n\t\tbackground: ({ palette }) => palette.light.lighterBlue\n\t},\n\troomsContainer: {\n\t\tborderRadius: \"5px\",\n\t\tmargin: \"auto\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t\tbackground: ({ palette }) => palette.background.blue.light\n\t}\n}));\n\nfunction GameRooms(props) {\n\tconst [formVisible, showForm] = useState(false);\n\tconst { currRoomStatus, resetActiveGame } = props;\n\tconst [isInRoom, setIsInRoom] = useState(false);\n\tconst classes = useStyles({ ...theme, isInRoom });\n\n\tconst handleFormSubmit = ({ roomName, roomPassword }) => {\n\t\tcreateNewGameRoom(roomName, roomPassword);\n\t\tlistenToActiveGame();\n\t\tshowForm(false);\n\t};\n\n\tuseEffect(() => {\n\t\tcurrRoomStatus === \"waiting\" || currRoomStatus === \"full\"\n\t\t\t? setIsInRoom(true)\n\t\t\t: setIsInRoom(false);\n\t}, [currRoomStatus, setIsInRoom]);\n\n\tconst joinRoom = (roomId, password = \"\") => {\n\t\tif (isInRoom) {\n\t\t\thandleLeave();\n\t\t\tjoinGameRoom(roomId, password);\n\t\t\tlistenToActiveGame();\n\t\t} else {\n\t\t\tjoinGameRoom(roomId, password);\n\t\t\tlistenToActiveGame();\n\t\t}\n\t};\n\n\tconst handleShowForm = bool => {\n\t\tshowForm(bool);\n\t};\n\n\tconst handleLeave = () => {\n\t\tunsubscribeToActiveGame();\n\t\tleaveGame();\n\t\tresetActiveGame();\n\t};\n\n\tconst availableRooms = (\n\t\t<Box boxShadow={3} className={classes.roomsContainer}>\n\t\t\t<Box className={classes.titleContainer}>\n\t\t\t\t<Typography variant=\"h6\">Available Rooms:</Typography>\n\t\t\t\t{!isInRoom && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleShowForm(true)}\n\t\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tNew Room\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<Rooms isInRoom={isInRoom} joinHandler={joinRoom} />\n\t\t</Box>\n\t);\n\n\tif (currRoomStatus === \"active\") {\n\t\treturn <Redirect to={\"/active_game\"} />;\n\t}\n\n\treturn (\n\t\t<article className={classes.root}>\n\t\t\t<NewRoomDialog\n\t\t\t\tsubmitHandler={handleFormSubmit}\n\t\t\t\tisVisible={formVisible}\n\t\t\t\tshowForm={handleShowForm}\n\t\t\t/>\n\t\t\t{isInRoom && <WaitingRoom leaveHandler={handleLeave} />}\n\t\t\t{availableRooms}\n\t\t</article>\n\t);\n}\n\nconst mapStateToProps = ({ allGameRooms, currentGame }) => ({\n\tallGameRooms,\n\tcurrRoomStatus: currentGame.status\n});\n\nconst mapDispatchToProps = dispatch => ({\n\tresetActiveGame: () => dispatch(leaveActiveGame())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameRooms);\n","import React, { useState, useEffect, useRef } from \"react\";\nimport theme from \"../../MUI_theme\";\nimport Box from \"@material-ui/core/Box\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Grow from \"@material-ui/core/Grow\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport WaitingRoom from \"../WaitingRoom\";\nimport { rematchReset, resetReady } from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport { placePlayerChip } from \"../../websocket-api\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tmargin: \"auto\"\n\t},\n\tturnIndicator: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tborderRadius: \"10px 10px 0 0\",\n\t\tbackground: ({ isPlayerTurn, main, opp }) => (isPlayerTurn ? main : opp)\n\t},\n\tgridContainer: {\n\t\tdisplay: \"flex\",\n\t\tpadding: theme.spacing(1),\n\t\tjustifyContent: \"center\",\n\t\tborderRadius: \"0 0 10px 10px\",\n\t\tbackground: ({ palette }) => palette.dark.midBlue,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\twidth: \"98vw\"\n\t\t}\n\t},\n\tcolumn: {\n\t\tdispaly: \"flex\",\n\t\tflexDirection: \"column\"\n\t},\n\tslot: {\n\t\tborderRadius: \"50%\",\n\t\twidth: \"8vw\",\n\t\theight: \"8vw\",\n\t\tmargin: \".8vw\",\n\t\tborderColor: \"darkGray\",\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tmaxWidth: \"125px\",\n\t\t\tmaxHeight: \"125px\",\n\t\t\tmargin: \"13px\"\n\t\t},\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\twidth: \"12vw\",\n\t\t\theight: \"12vw\"\n\t\t}\n\t},\n\temptySlot: {\n\t\tbackground: ({ palette, oppWin, mainWin, isActive }) =>\n\t\t\toppWin || mainWin || !isActive\n\t\t\t\t? palette.dark.midBlue\n\t\t\t\t: palette.light.lighterGray\n\t},\n\thighlightSlot: {\n\t\tbackground: ({ main }) => main,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\"\n\t},\n\thighlightBorder: {\n\t\tborderColor: ({ isPlayerTurn }) => (isPlayerTurn ? \"white\" : \"darkGray\"),\n\t\tborderWidth: 4\n\t},\n\tmainBg: {\n\t\tbackground: ({ main }) => main,\n\t\tborder: ({ main, mainWin, palette }) =>\n\t\t\t`4px solid ${mainWin ? palette.light.lighterGray : main}`\n\t},\n\toppBg: {\n\t\tbackground: ({ opp }) => opp,\n\t\tborder: ({ opp, oppWin, palette }) =>\n\t\t\t`4px solid ${oppWin ? palette.light.lighterGray : opp}`\n\t},\n\taddChipIcon: {\n\t\twidth: \"4vw\",\n\t\theight: \"4vw\",\n\t\tminWidth: \"30px\",\n\t\tminHeight: \"30px\"\n\t},\n\taddChipBtn: {\n\t\tcolor: ({ isPlayerTurn }) => (isPlayerTurn ? \"white\" : \"darkGray\")\n\t},\n\treMatchBox: {\n\t\tmargin: \"10px auto\",\n\t\tmaxWidth: \"800px\"\n\t}\n}));\n\nconst slotProps = {\n\tm: 1,\n\tborder: 1,\n\tboxShadow: 3\n};\n\nfunction GameGrid(props) {\n\tconst {\n\t\tgrid,\n\t\tgameStatus,\n\t\tcurrentTurn,\n\t\tcurrentPlayer,\n\t\tplayers,\n\t\tprevSlot,\n\t\twinner,\n\t\tresetGame,\n\t\tresetPlayerReady\n\t} = props;\n\tconst isPlayerTurn = currentTurn === currentPlayer;\n\tconst isActive = gameStatus === \"active\";\n\tconst [main, setMain] = useState({});\n\tconst [opponent, setOpponent] = useState({});\n\tconst [showWaitRoom, setShowWaitRoom] = useState(false);\n\tconst mainWin = main.player_name === winner;\n\tconst oppWin = opponent.player_name === winner;\n\tconst prevState = useRef({ winner, grid, players });\n\tconst [xCoordinate, setCoordinate] = useState(null);\n\n\tconst classes = useStyles({\n\t\t...theme,\n\t\tmain: main.chipColor,\n\t\tmainWin,\n\t\topp: opponent.chipColor,\n\t\toppWin,\n\t\tisPlayerTurn,\n\t\tisActive\n\t});\n\n\tif (showWaitRoom && players[0].isReady && players[1].isReady) {\n\t\tsetShowWaitRoom(false);\n\t\tresetGame();\n\t}\n\n\tuseEffect(() => {\n\t\tconst playerCheck =\n\t\t\t!main.player_name ||\n\t\t\t!opponent.player_name ||\n\t\t\tplayers !== prevState.current.players;\n\n\t\tif (playerCheck && isActive) {\n\t\t\tif (players[0].player_name === currentPlayer) {\n\t\t\t\tsetMain({ ...players[0], slot: 1 });\n\t\t\t\tsetOpponent({ ...players[1], slot: 2 });\n\t\t\t} else if (players[1].player_name === currentPlayer) {\n\t\t\t\tsetMain({ ...players[1], slot: 2 });\n\t\t\t\tsetOpponent({ ...players[0], slot: 1 });\n\t\t\t}\n\t\t\tprevState.current.players = players;\n\t\t}\n\t}, [currentPlayer, players, main, opponent, isActive]);\n\n\tuseEffect(() => {\n\t\tif (winner !== prevState.current.winner && winner !== null && isActive) {\n\t\t\tsetMain({ ...main, isReady: false });\n\t\t\tsetOpponent({ ...opponent, isReady: false });\n\t\t\tresetPlayerReady();\n\t\t\tsetShowWaitRoom(true);\n\t\t}\n\t\tprevState.current.winner = winner;\n\t}, [winner, resetPlayerReady, main, opponent, setShowWaitRoom, isActive]);\n\n\tconst handleSlotStyle = (slot, hovered, isBottom) => {\n\t\tconst {\n\t\t\tmainBg,\n\t\t\toppBg,\n\t\t\thighlightSlot,\n\t\t\thighlightBorder,\n\t\t\temptySlot\n\t\t} = classes;\n\n\t\tswitch (true) {\n\t\t\tcase slot === main.slot:\n\t\t\t\treturn mainBg;\n\t\t\tcase slot === opponent.slot:\n\t\t\t\treturn oppBg;\n\t\t\tcase hovered && isBottom && !oppWin && !mainWin:\n\t\t\t\treturn `${highlightSlot} ${highlightBorder}`;\n\t\t\tdefault:\n\t\t\t\treturn emptySlot;\n\t\t}\n\t};\n\n\tconst handleHovered = ({ target }) => {\n\t\tconst colId = (target.id || target.parentElement.id).split(\":\");\n\t\tsetCoordinate(parseInt(colId[1]));\n\t};\n\n\tconst handleChipPlacement = () => {\n\t\tplacePlayerChip(xCoordinate);\n\t};\n\n\tconst generateGrid = () =>\n\t\tgrid.map((column, idx) => {\n\t\t\tconst isHovered = xCoordinate === idx;\n\t\t\tlet bottomIdx;\n\n\t\t\tfor (let i = column.length - 1; i >= 0; i--) {\n\t\t\t\tif (column[i] === 0) {\n\t\t\t\t\tbottomIdx = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Box\n\t\t\t\t\tkey={`col${idx}`}\n\t\t\t\t\tclassName={classes.column}\n\t\t\t\t\tid={`xCoordinate:${idx}`}\n\t\t\t\t\tonMouseEnter={handleHovered}\n\t\t\t\t>\n\t\t\t\t\t{column.map((gridSlot, i) => {\n\t\t\t\t\t\tconst isBottom = bottomIdx === i && isHovered;\n\t\t\t\t\t\tconst isNew = prevSlot.join(\"\") === [idx, i, gridSlot].join(\"\");\n\n\t\t\t\t\t\tconst bottomHoveredSlot = (\n\t\t\t\t\t\t\t<Fade in={isBottom}>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tonClick={handleChipPlacement}\n\t\t\t\t\t\t\t\t\tclassName={`${classes.slot} ${handleSlotStyle(\n\t\t\t\t\t\t\t\t\t\tgridSlot,\n\t\t\t\t\t\t\t\t\t\tisHovered,\n\t\t\t\t\t\t\t\t\t\tisBottom\n\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t{...slotProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton className={classes.addChipBtn}>\n\t\t\t\t\t\t\t\t\t\t<AddIcon className={classes.addChipIcon} />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst defaultSlot = (\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tonClick={handleHovered}\n\t\t\t\t\t\t\t\tkey={`col${idx}row${i}player${gridSlot}`}\n\t\t\t\t\t\t\t\tclassName={`${classes.slot} ${handleSlotStyle(\n\t\t\t\t\t\t\t\t\tgridSlot,\n\t\t\t\t\t\t\t\t\tisHovered,\n\t\t\t\t\t\t\t\t\tisBottom\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t{...slotProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst newSlot = (\n\t\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\t\tkey={`col${idx}row${i}player${gridSlot}`}\n\t\t\t\t\t\t\t\tin={isNew}\n\t\t\t\t\t\t\t\ttimeout={600}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tclassName={`${classes.slot} ${handleSlotStyle(\n\t\t\t\t\t\t\t\t\t\tgridSlot,\n\t\t\t\t\t\t\t\t\t\tisHovered,\n\t\t\t\t\t\t\t\t\t\tisBottom\n\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t{...slotProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grow>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (isHovered && isBottom && !showWaitRoom) {\n\t\t\t\t\t\t\treturn bottomHoveredSlot;\n\t\t\t\t\t\t} else if (isNew) {\n\t\t\t\t\t\t\treturn newSlot;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn defaultSlot;\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t);\n\t\t});\n\n\tconst turnIndicator = () => {\n\t\treturn (\n\t\t\t<Box className={classes.turnIndicator}>\n\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t{!showWaitRoom &&\n\t\t\t\t\t\t`${isPlayerTurn ? \"Your\" : opponent.player_name + \"'s\"} Turn!`}\n\t\t\t\t\t{mainWin && \"You Win!\"}\n\t\t\t\t\t{oppWin && `${opponent.player_name} Wins!`}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t{showWaitRoom && (\n\t\t\t\t<div>\n\t\t\t\t\t<Grow in={showWaitRoom}>\n\t\t\t\t\t\t<Box className={classes.reMatchBox}>\n\t\t\t\t\t\t\t<WaitingRoom />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grow>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{turnIndicator()}\n\t\t\t<Box\n\t\t\t\tboxShadow={3}\n\t\t\t\tclassName={classes.gridContainer}\n\t\t\t\tonMouseLeave={() => setCoordinate(null)}\n\t\t\t>\n\t\t\t\t{generateGrid()}\n\t\t\t</Box>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = ({ currentGame, currentPlayer }) => ({\n\tgrid: currentGame.gridX,\n\tcurrentTurn: currentGame.currentPlayer\n\t\t? currentGame.currentPlayer.player_name\n\t\t: currentGame.currentPlayer,\n\tcurrentPlayer: currentPlayer.player ? currentPlayer.player.player_name : null,\n\tplayers: currentGame.players,\n\tprevSlot: currentGame.prevSlot,\n\twinner: currentGame.winner,\n\tgameStatus: currentGame.status\n});\n\nconst mapDispatchToProps = dispatch => ({\n\tresetGame: () => dispatch(rematchReset()),\n\tresetPlayerReady: () => dispatch(resetReady())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameGrid);\n","import React, { useState } from 'react';\nimport theme from '../../MUI_theme';\nimport Box from '@material-ui/core/Box';\nimport GameGrid from './GameGrid';\nimport ChatBox from '../ChatBox';\nimport Switch from '@material-ui/core/Switch';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { sendInGameMessage } from '../../websocket-api';\nimport { leaveActiveGame, resetGrid } from '../../actions';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    maxWidth: '1600px',\n    padding: theme.spacing(1),\n    [theme.breakpoints.up('lg')]: {\n      margin: '0 auto'\n    }, \n    [theme.breakpoints.down('md')]: {\n      flexWrap: 'wrap',\n      justifyContent: 'center'\n    },\n    background: ({palette}) => palette.dark.midDarkBlue,\n  },\n  chatBox: {\n    [theme.breakpoints.down('md')]: {\n      marginTop: theme.spacing(2),\n      width: '70vw',\n      height: '60vh'\n    },\n    [theme.breakpoints.up('lg')]: {\n      width: '100%'\n    },\n    display: 'flex',\n    width: '100%',\n    position: 'relative',\n  },\n  chatToggle: {\n    position: 'absolute',\n    right: '5px',\n    top: '5px',\n    zIndex: 1\n  }\n\n}));\n\nfunction ActiveGame(props) {\n  const classes = useStyles(theme);\n  const [isChatActive, setChatActive] = useState(true);\n  const { status, resetGame, resetGameGrid } = props;\n\n  const handleChatToggle = () => {\n    setChatActive(!isChatActive);\n  };\n\n  const handleSendMessage = (message) => {\n    sendInGameMessage(message);\n  };\n\n  if (status !== 'active' && status !== 'full') {\n    if (status === 'waiting') resetGameGrid()\n    else resetGame();\n    return <Redirect to='/home' />\n  };\n\n  return (\n    <Box className={classes.root}>\n      <GameGrid />\n      <Box className={classes.chatBox}>\n        <Switch\n          checked={isChatActive}\n          onChange={handleChatToggle}\n          value=\"checkedB\"\n          className={classes.chatToggle}\n          color=\"primary\"\n          inputProps={{ 'aria-label': 'Join/leave game chat' }}\n        />\n        {isChatActive && (\n          <ChatBox \n          messages={props.messages} \n          sendMessage={handleSendMessage} \n          title={'Game Chat:'}/>\n        )}\n      </Box>\n    </Box>\n  )\n};\n\nconst mapStateToProps = ({ currentGame }) => ({\n  grid: currentGame.grid,\n  status: currentGame.status,\n  messages: currentGame.messages,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  resetGame: () => dispatch(leaveActiveGame()),\n  resetGameGrid: () => dispatch(resetGrid())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActiveGame);\n","const handlers = {\n\troutes: {\n\t\tlogin: \"https://connect-four-be.herokuapp.com/api/v1/login\",\n\t\tsignup: \"https://connect-four-be.herokuapp.com/api/v1/signup\",\n\t\tanonLogin: \"https://connect-four-be.herokuapp.com/api/v1/anonymous\"\n\t},\n\tnoTokenPost: function(route, payload) {\n\t\treturn fetch(route, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(payload),\n\t\t\theaders: { \"Content-Type\": \"application/json\" }\n\t\t});\n\t},\n\tloginViaEmail: function(payload) {\n\t\treturn this.noTokenPost(this.routes.login, payload);\n\t},\n\tsignupUser: function(payload) {\n\t\treturn this.noTokenPost(this.routes.signup, payload);\n\t},\n\tloginViaToken: function(token) {\n\t\treturn fetch(this.routes.login, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: `Bearer ${token}`\n\t\t\t}\n\t\t});\n\t},\n\tanonymousLogin: function(player) {\n\t\treturn this.noTokenPost(this.routes.anonLogin, player);\n\t}\n};\n\nexport default handlers;\n","import handler from \"./requestHandlers\";\n\nexport default function(type, payload) {\n\tswitch (type) {\n\t\tcase \"login\":\n\t\t\treturn handler.loginViaEmail(payload);\n\t\tcase \"tokenLogin\":\n\t\t\tconst token =\n\t\t\t\tJSON.parse(localStorage.getItem(\"connect_four_token\")) || payload;\n\t\t\treturn handler.loginViaToken(token);\n\t\tcase \"signupUser\":\n\t\t\treturn handler.signupUser(payload);\n\t\tcase \"anonymousLogin\":\n\t\t\treturn handler.anonymousLogin(payload);\n\t\tdefault:\n\t\t\tconsole.log(\"def\");\n\t}\n}\n","import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport request from \"../../requests\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grow from \"@material-ui/core/Grow\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tposition: \"fixed\",\n\t\ttop: \"6%\",\n\t\tright: \"0\",\n\t\tmargin: theme.spacing(2),\n\t\tflexDirection: \"row-reverse\"\n\t},\n\tinputsContainer: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tflexWrap: \"wrap\",\n\t\tminWidth: \"300px\",\n\t\tpadding: theme.spacing(2),\n\t\tposition: \"relative\",\n\t\tbackground: \"rgba(255, 255, 255, .9)\",\n\t\tboxShadow: theme.shadows[5]\n\t},\n\tloadingIcon: {\n\t\tdisplay: \"flex\",\n\t\tzIndex: 1,\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tposition: \"absolute\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\"\n\t},\n\toptionButton: {\n\t\tmargin: \"10px 0\"\n\t},\n\terror: {\n\t\tcolor: \"red\",\n\t\tmargin: \"5px auto\"\n\t}\n}));\n\nfunction PlayerForms(props) {\n\tconst classes = useStyles();\n\tconst [loginValues, setLoginValues] = useState({});\n\tconst [signUpValues, setSignUpValues] = useState({});\n\tconst [showSignUpForm, setShowSignUpForm] = useState(false);\n\tconst [showAnonLoginForm, setShowAnonLoginForm] = useState(false);\n\tconst [errors, setErrors] = useState([]);\n\tconst [isLoading, setLoading] = useState(false);\n\n\tconst handleLoginForm = ({ target }) =>\n\t\tsetLoginValues({ ...loginValues, [target.name]: target.value });\n\tconst handleSignUpForm = ({ target }) => {\n\t\tconst withSpace = target.value.replace(/[^a-zA-Z\\s0-9]/g, \"\");\n\t\tconst withoutSpace = withSpace.replace(/[\\s]/g, \"\");\n\n\t\tif (target.name === \"secret_one\" || target.name === \"secret_two\") {\n\t\t\tsetSignUpValues({ ...signUpValues, [target.name]: withSpace });\n\t\t} else if (target.name === \"email\") {\n\t\t\tsetSignUpValues({ ...signUpValues, [target.name]: target.value });\n\t\t} else {\n\t\t\tsetSignUpValues({ ...signUpValues, [target.name]: withoutSpace });\n\t\t}\n\t};\n\n\tconst verifySignUpParams = () => {\n\t\tconst errors = [];\n\t\tconst reqParams = [\n\t\t\t\"email\",\n\t\t\t\"player_name\",\n\t\t\t\"password\",\n\t\t\t\"confirm_password\",\n\t\t\t\"secret_one\",\n\t\t\t\"secret_two\"\n\t\t];\n\n\t\tfor (let param of reqParams) {\n\t\t\tconst readable = param.split(\"_\").join(\" \");\n\t\t\tif (!signUpValues[param]) {\n\t\t\t\terrors.push({\n\t\t\t\t\ttype: \"input\",\n\t\t\t\t\terror: `${readable.toUpperCase()} is required.`\n\t\t\t\t});\n\t\t\t} else if (signUpValues[param].length < 3) {\n\t\t\t\terrors.push({\n\t\t\t\t\ttype: \"input\",\n\t\t\t\t\terror: `${readable.toUpperCase()} must be at least 3 characters or longer.`\n\t\t\t\t});\n\t\t\t} else if (param === \"password\") {\n\t\t\t\tif (signUpValues.password !== signUpValues.confirm_password) {\n\t\t\t\t\terrors.push({ type: \"input\", error: \"Passwords must match.\" });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (errors.length > 0) {\n\t\t\tsetErrors(errors);\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst loadingIcon = (\n\t\t<div className={classes.loadingIcon}>\n\t\t\t<CircularProgress />\n\t\t</div>\n\t);\n\n\tconst signUpUser = async e => {\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tif (verifySignUpParams()) {\n\t\t\t\tconst {\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tplayer_name,\n\t\t\t\t\tsecret_one,\n\t\t\t\t\tsecret_two\n\t\t\t\t} = signUpValues;\n\t\t\t\tconst res = await request(\"signupUser\", {\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tplayer_name,\n\t\t\t\t\tsecret_one,\n\t\t\t\t\tsecret_two\n\t\t\t\t});\n\t\t\t\tif (!res.ok) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\tthrow await res.json();\n\t\t\t\t} else {\n\t\t\t\t\tconst player = await res.json();\n\t\t\t\t\tprops.registerPlayer(player);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetErrors([err]);\n\t\t}\n\t};\n\n\tconst loginAnonymously = async e => {\n\t\te.preventDefault();\n\t\tconst { player_name } = signUpValues;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst res = await request(\"anonymousLogin\", { player_name });\n\t\t\tif (!res.ok) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tthrow await res.json();\n\t\t\t} else {\n\t\t\t\tconst token = await res.json();\n\t\t\t\tconst anon = {\n\t\t\t\t\tplayer: {\n\t\t\t\t\t\tplayer_name\n\t\t\t\t\t},\n\t\t\t\t\ttype: \"anonymous\",\n\t\t\t\t\t...token\n\t\t\t\t};\n\t\t\t\tprops.registerPlayer(anon);\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tsetErrors([error]);\n\t\t}\n\t};\n\n\tconst loginUser = async e => {\n\t\te.preventDefault();\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst player = await request(\"login\", loginValues);\n\t\t\tif (!player.ok) {\n\t\t\t\tsetLoading(false);\n\t\t\t\tthrow await player.json();\n\t\t\t} else {\n\t\t\t\tprops.registerPlayer(await player.json());\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetErrors([err]);\n\t\t}\n\t};\n\n\tconst generateErrors = () =>\n\t\terrors.map(err => {\n\t\t\treturn (\n\t\t\t\t<Grow in={!!errors.length} timeout={400}>\n\t\t\t\t\t<Typography className={classes.error}>{err.error}</Typography>\n\t\t\t\t</Grow>\n\t\t\t);\n\t\t});\n\n\tconst optionButtons = (\n\t\t<div className={classes.inputsContainer}>\n\t\t\t<Button\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tclassName={classes.optionButton}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetShowSignUpForm(true);\n\t\t\t\t\tsetShowAnonLoginForm(false);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tCreate Account\n\t\t\t</Button>\n\t\t\t{!showAnonLoginForm && (\n\t\t\t\t<Button\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tclassName={classes.optionButton}\n\t\t\t\t\tonClick={() => setShowAnonLoginForm(true)}\n\t\t\t\t>\n\t\t\t\t\tLogin Anonymously\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</div>\n\t);\n\n\tconst anonForm = (\n\t\t<form autoComplete=\"off\" onSubmit={loginAnonymously}>\n\t\t\t<Box className={classes.inputsContainer}>\n\t\t\t\t<Typography variant=\"h6\">Anonymous Login</Typography>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"player_name\"\n\t\t\t\t\tlabel=\"Player Name\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"player_name\"\n\t\t\t\t\tvalue={signUpValues.player_name || \"\"}\n\t\t\t\t\tonChange={handleSignUpForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 15 }}\n\t\t\t\t/>\n\t\t\t\t<h4>{isLoading && loadingIcon}</h4>\n\t\t\t\t{!!errors.length && generateErrors()}\n\t\t\t\t<Button color=\"primary\" type=\"submit\" variant=\"contained\">\n\t\t\t\t\tLogin\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetShowSignUpForm(false);\n\t\t\t\t\t\tsetShowAnonLoginForm(false);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tAlready a user? Click me\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</form>\n\t);\n\n\tconst registerForm = (\n\t\t<form autoComplete=\"off\" onSubmit={signUpUser}>\n\t\t\t<Box className={classes.inputsContainer}>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-email\"\n\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tvalue={signUpValues.email || \"\"}\n\t\t\t\t\tonChange={handleSignUpForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 35 }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-player-name\"\n\t\t\t\t\tlabel=\"Player Name\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"player_name\"\n\t\t\t\t\tvalue={signUpValues.player_name || \"\"}\n\t\t\t\t\tonChange={handleSignUpForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 20 }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={signUpValues.password || \"\"}\n\t\t\t\t\tonChange={handleSignUpForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 25 }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-confirm-password\"\n\t\t\t\t\tlabel=\"Confirm Password\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tname=\"confirm_password\"\n\t\t\t\t\tvalue={signUpValues.confirm_password || \"\"}\n\t\t\t\t\tonChange={handleSignUpForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 25 }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-secret-one\"\n\t\t\t\t\tlabel=\"Secret Phrase One (For: Password Reset)\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"secret_one\"\n\t\t\t\t\tvalue={signUpValues.secret_one || \"\"}\n\t\t\t\t\tonChange={handleSignUpForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 40 }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"outlined-secret-two\"\n\t\t\t\t\tlabel=\"Secret Phrase Two (For: Password Reset)\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"secret_two\"\n\t\t\t\t\tvalue={signUpValues.secret_two || \"\"}\n\t\t\t\t\tonChange={handleSignUpForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 40 }}\n\t\t\t\t/>\n\t\t\t\t<h4>{isLoading && loadingIcon}</h4>\n\t\t\t\t{!!errors.length && generateErrors()}\n\t\t\t\t<Button color=\"primary\" type=\"submit\" variant=\"contained\">\n\t\t\t\t\tCreate\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={() => setShowSignUpForm(false)}\n\t\t\t\t>\n\t\t\t\t\tAlready a user? Click me\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</form>\n\t);\n\n\tconst loginForm = (\n\t\t<form autoComplete=\"off\" onSubmit={loginUser}>\n\t\t\t<Box className={classes.inputsContainer}>\n\t\t\t\t<TextField\n\t\t\t\t\terror={!!errors.length}\n\t\t\t\t\tid=\"outlined-email\"\n\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\tvalue={loginValues.email || \"\"}\n\t\t\t\t\tonChange={handleLoginForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 35 }}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\terror={!!errors.length}\n\t\t\t\t\tid=\"outlined-password\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tvalue={loginValues.password || \"\"}\n\t\t\t\t\tonChange={handleLoginForm}\n\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tinputProps={{ maxLength: 25 }}\n\t\t\t\t/>\n\t\t\t\t{isLoading && loadingIcon}\n\t\t\t\t{!!errors.length && generateErrors()}\n\t\t\t\t<Button color=\"primary\" type=\"submit\" variant=\"contained\">\n\t\t\t\t\tLog In\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</form>\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Box onFocus={() => setErrors([])}>\n\t\t\t\t{!showSignUpForm && !showAnonLoginForm && loginForm}\n\t\t\t\t{showSignUpForm && registerForm}\n\t\t\t\t{showAnonLoginForm && anonForm}\n\t\t\t\t{!showSignUpForm && optionButtons}\n\t\t\t</Box>\n\t\t</div>\n\t);\n}\n\nexport default PlayerForms;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport List from \"@material-ui/core/List\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\"\n\t},\n\tinfoContainer: {\n\t\ttextAlign: \"left\",\n\t\twidth: \"100%\"\n\t},\n\tgameHistoryList: {\n\t\theight: \"100px\",\n\t\toverflow: \"scroll\"\n\t}\n}));\n\nfunction PlayerDetails({ player }) {\n\tconst classes = useStyles();\n\tconst {\n\t\twin_streak,\n\t\twins,\n\t\tlosses,\n\t\tgames_played,\n\t\temail,\n\t\tgame_history\n\t} = player;\n\n\tconst generateGameHistory = () =>\n\t\tgame_history.map(match => {\n\t\t\tconst { _id, vs_player, is_winner } = match;\n\n\t\t\tconst historyText = is_winner\n\t\t\t\t? `You won against ${vs_player}`\n\t\t\t\t: `You lost against ${vs_player}`;\n\n\t\t\treturn <ListItem key={_id}>{historyText}</ListItem>;\n\t\t});\n\n\treturn (\n\t\t<Grow in={true}>\n\t\t\t<ListItem className={classes.root}>\n\t\t\t\t<Box className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>\n\t\t\t\t\t\tWins: {wins}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>\n\t\t\t\t\t\tWin Streak: {win_streak}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>\n\t\t\t\t\t\tLosses: {losses}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>\n\t\t\t\t\t\tTotal Matches: {games_played}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>\n\t\t\t\t\t\tEmail: {email}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>\n\t\t\t\t\tGame History:\n\t\t\t\t</Typography>\n\t\t\t\t<List className={classes.gameHistoryList}>{generateGameHistory()}</List>\n\t\t\t</ListItem>\n\t\t</Grow>\n\t);\n}\n\nexport default PlayerDetails;\n","import React, { useState } from \"react\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport theme from \"../../MUI_theme\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport generateAvatar from \"../../utils/nameAvatarGenerator\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport PermIdentityIcon from \"@material-ui/icons/PermIdentity\";\nimport PeopleOutlineIcon from \"@material-ui/icons/PeopleOutline\";\nimport PlayerDetails from \"./PlayerDetails\";\nimport { Link } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { leaveWorldChat, leaveGame } from \"../../websocket-api\";\nimport { saveCurrentPlayer, leaveActiveGame } from \"../../actions\";\nimport { connect } from \"react-redux\";\n\nconst drawerWidth = 230;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\twidth: drawerWidth,\n\t\t\tflexShrink: 0\n\t\t}\n\t},\n\ttoolbar: {\n\t\t...theme.mixins.toolbar,\n\t\tpadding: theme.spacing(1),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\"\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tbackground: ({ palette }) => palette.light.lighterBlue,\n\t\tcolor: ({ palette }) => palette.dark.darkerBlueGray\n\t},\n\tfixedMenu: {\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tdisplay: \"none\"\n\t\t}\n\t},\n\tmenuList: {},\n\tuserName: {\n\t\tmarginLeft: theme.spacing(3)\n\t},\n\tlink: {\n\t\ttextDecoration: \"none\",\n\t\tcolor: \"red\"\n\t}\n}));\n\nfunction PlayerDrawer(props) {\n\tconst classes = useStyles(theme);\n\tconst [selectedItem, setSelectedItem] = useState(\"\");\n\n\tconst generateSelectedItem = () => {\n\t\tswitch (selectedItem) {\n\t\t\tcase \"PLAYER_DETAILS\":\n\t\t\t\treturn <PlayerDetails player={props.player} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tconst handleLogout = () => {\n\t\tleaveWorldChat();\n\t\tleaveGame();\n\t\tprops.resetActiveGame();\n\t\tprops.deletePlayer();\n\t\tlocalStorage.removeItem(\"connect_four_token\");\n\t};\n\n\tconst drawers = (\n\t\t<div>\n\t\t\t<div className={classes.toolbar}>\n\t\t\t\t{generateAvatar(props.player.player_name)}\n\t\t\t\t<Typography variant=\"h6\" className={classes.userName}>\n\t\t\t\t\t{props.player.player_name}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t<Divider />\n\t\t\t<List className={classes.menuList}>\n\t\t\t\t<Tooltip title=\"Under Development\">\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tkey={\"Account\"}\n\t\t\t\t\t\tonClick={() => setSelectedItem(\"PLAYER_DETAILS\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<PermIdentityIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={\"Account\"} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Tooltip>\n\t\t\t\t{generateSelectedItem()}\n\t\t\t\t<Tooltip title=\"Under Development\">\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tkey={\"Achievements\"}\n\t\t\t\t\t\tonClick={() => setSelectedItem(\"PLAYER_ACHIEVEMENTS\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DoneIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={\"Achievements\"} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Tooltip title=\"Under Development\">\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tkey={\"Friends\"}\n\t\t\t\t\t\tonClick={() => setSelectedItem(\"PLAYER_FRIENDS\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<PeopleOutlineIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={\"Friends\"} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Tooltip>\n\t\t\t</List>\n\t\t\t<Divider />\n\t\t\t<List className={classes.menuList}>\n\t\t\t\t<Link to=\"/\" className={classes.link}>\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tkey={\"Logout\"}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleLogout();\n\t\t\t\t\t\t\tprops.toggleDrawer();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={\"Logout\"} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t</List>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<nav className={classes.drawer} aria-label=\"mailbox folders\">\n\t\t\t<Hidden smUp implementation=\"css\">\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant=\"temporary\"\n\t\t\t\t\tanchor=\"right\"\n\t\t\t\t\topen={props.isVisible}\n\t\t\t\t\tonClose={props.toggleDrawer}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawers}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden xsDown implementation=\"css\">\n\t\t\t\t<Drawer\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={classes.fixedMenu}\n\t\t\t\t\tvariant=\"permanent\"\n\t\t\t\t\topen\n\t\t\t\t\tanchor=\"right\"\n\t\t\t\t>\n\t\t\t\t\t{drawers}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t</nav>\n\t);\n}\n\nconst mapStateToProps = ({ currentPlayer }) => ({\n\tplayer: currentPlayer.player,\n\tisActive: currentPlayer.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n\tdeletePlayer: () => dispatch(saveCurrentPlayer({})),\n\tresetActiveGame: () => dispatch(leaveActiveGame())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerDrawer);\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport theme from \"../../MUI_theme\";\nimport Box from \"@material-ui/core/Box\";\nimport Grow from \"@material-ui/core/Grow\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\tbackground: ({ palette }) => palette.dark.midBlue\n\t},\n\tgridContainer: {\n\t\toverflow: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tpadding: theme.spacing(1),\n\t\tjustifyContent: \"center\",\n\t\tborderRadius: \"0 0 10px 10px\"\n\t},\n\tcolumn: {\n\t\tdispaly: \"flex\",\n\t\tflexDirection: \"column\"\n\t},\n\tslot: {\n\t\tborderRadius: \"50%\",\n\t\twidth: \"11vw\",\n\t\theight: \"11vw\",\n\t\tmargin: \"1vw\",\n\t\tmaxWidth: \"140px\",\n\t\tmaxHeight: \"140px\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\twidth: \"10vh\",\n\t\t\theight: \"10vh\",\n\t\t\tmargin: \"1vh\"\n\t\t}\n\t},\n\temptySlot: {\n\t\tbackground: ({ palette }) => palette.light.lighterGray\n\t},\n\tchipOne: {\n\t\tbackground: ({ chipOne }) => chipOne\n\t},\n\tchipTwo: {\n\t\tbackground: ({ chipTwo }) => chipTwo\n\t}\n}));\n\nconst slotProps = {\n\tm: 1,\n\tboxShadow: 3\n};\n\nfunction Splash() {\n\tconst randomizedColors = Object.values(theme.palette.chips).sort(\n\t\t() => 0.5 - Math.random()\n\t);\n\tconst [chipOne] = useState(randomizedColors[0]);\n\tconst [chipTwo] = useState(randomizedColors[1]);\n\tconst [currSlot, setCurrSlot] = useState([0, 0]);\n\tconst [currChip, setCurrChip] = useState(1);\n\tconst [grid, setGrid] = useState([\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\n\t\t[0, 0, 0, 0, 0, 0, 0, 1, 2, 2],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 2, 2],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 1, 1],\n\t\t[0, 0, 0, 0, 0, 0, 0, 1, 1, 2],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\n\t\t[0, 0, 0, 0, 0, 0, 0, 0, 0, 1]\n\t]);\n\tconst classes = useStyles({\n\t\t...theme,\n\t\tchipOne,\n\t\tchipTwo\n\t});\n\n\tconst placeRandomChip = useCallback(() => {\n\t\tconst randIdx = Math.floor(Math.random() * grid.length);\n\n\t\tfor (let i = grid[randIdx].length - 1; i >= 0; i--) {\n\t\t\tif (grid[randIdx][i] === 0) {\n\t\t\t\tconst copy = [...grid];\n\t\t\t\tcopy[randIdx][i] = currChip;\n\t\t\t\tsetGrid(copy);\n\t\t\t\tsetCurrSlot([randIdx, i]);\n\t\t\t\tcurrChip === 1 ? setCurrChip(2) : setCurrChip(1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, [setCurrChip, currChip, grid]);\n\n\tuseEffect(() => {\n\t\tconst timout = setInterval(placeRandomChip, 1300);\n\t\treturn () => clearInterval(timout);\n\t}, [placeRandomChip]);\n\n\tconst handleSlotStyle = (slot, currChip) => {\n\t\tconst { chipOne, chipTwo, emptySlot } = classes;\n\n\t\tswitch (true) {\n\t\t\tcase currChip === 1:\n\t\t\t\treturn chipOne;\n\t\t\tcase currChip === 2:\n\t\t\t\treturn chipTwo;\n\t\t\tdefault:\n\t\t\t\treturn emptySlot;\n\t\t}\n\t};\n\n\tconst connectFourGrid = grid.map((column, i) => {\n\t\treturn (\n\t\t\t<Box key={`col${i}`} className={classes.column}>\n\t\t\t\t{column.map((gridSlot, j) => {\n\t\t\t\t\tconst ifNew = i === currSlot[0] && j === currSlot[1];\n\t\t\t\t\tconst colorChip = (\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tclassName={`${classes.slot} ${handleSlotStyle(\n\t\t\t\t\t\t\t\tgridSlot,\n\t\t\t\t\t\t\t\tgridSlot\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t{...slotProps}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t\tconst slidingChip = (\n\t\t\t\t\t\t<Grow\n\t\t\t\t\t\t\tkey={`col${i}row${j}chip${gridSlot}`}\n\t\t\t\t\t\t\tin={ifNew}\n\t\t\t\t\t\t\tdirection=\"down\"\n\t\t\t\t\t\t\ttimeout={800}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{colorChip}\n\t\t\t\t\t\t</Grow>\n\t\t\t\t\t);\n\t\t\t\t\treturn ifNew ? slidingChip : colorChip;\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t);\n\t});\n\n\treturn (\n\t\t<Box className={classes.root}>\n\t\t\t<Box boxShadow={3} className={classes.gridContainer}>\n\t\t\t\t{connectFourGrid}\n\t\t\t</Box>\n\t\t</Box>\n\t);\n}\n\nexport default Splash;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport theme from \"../../MUI_theme\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\ttextAlign: \"center\",\n\t\tpaddingTop: \"10vh\",\n\t\tbackground: ({ palette }) => palette.dark.midBlue,\n\t\theight: \"100vh\"\n\t}\n}));\n\nfunction FourOhFourPage() {\n\tconst classes = useStyles(theme);\n\n\treturn (\n\t\t<Box className={classes.root}>\n\t\t\t<Typography variant=\"h1\">404 Error</Typography>\n\t\t\t<Typography variant=\"h4\">Nothing here :(</Typography>\n\t\t</Box>\n\t);\n}\n\nexport default FourOhFourPage;\n","import React, { useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { registerClient, removeClient } from \"../../websocket-api\";\nimport { connect } from \"react-redux\";\nimport { saveCurrentPlayer } from \"../../actions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid } from \"@material-ui/core\";\nimport WorldChat from \"../WorldChat\";\nimport Header from \"../Header\";\nimport GameRooms from \"../GameRooms\";\nimport Connect4Grid from \"../ActiveGame\";\nimport PlayerForms from \"../PlayerForms\";\nimport request from \"../../requests\";\nimport theme from \"../../MUI_theme\";\nimport PlayerDrawer from \"../PlayerDrawer\";\nimport Splash from \"../Splash\";\nimport FourOhFourPage from \"../404Page\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tmargin: 0,\n\t\tpadding: 0,\n\t\tbackground: ({ palette }) => palette.dark.darkGray,\n\t\t[theme.breakpoints.up(\"lg\")]: {\n\t\t\tpaddingRight: \"230px\"\n\t\t}\n\t},\n\thomePgContainer: {\n\t\tmaxWidth: \"1400px\",\n\t\tmargin: \"auto\"\n\t},\n\thomePgItem: {\n\t\twidth: \"50%\",\n\t\tmargin: \"0\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tminWidth: \"100vw\"\n\t\t}\n\t},\n\tloginPageContainer: {\n\t\tdisplay: \"flex\",\n\t\twidth: \"100vw\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\"\n\t}\n}));\n\nfunction App(props) {\n\tconst classes = useStyles(theme);\n\tconst [isDrawerOpen, openDrawer] = useState(false);\n\tconst [error, setError] = useState({});\n\n\tconst handleDrawerToggle = () => {\n\t\topenDrawer(!isDrawerOpen);\n\t};\n\n\tconst registerPlayer = player => {\n\t\tprops.savePlayer(player);\n\t\tregisterClient(player.token);\n\t\tif (player.type !== \"anonymous\") {\n\t\t\tlocalStorage.setItem(\"connect_four_token\", JSON.stringify(player.token));\n\t\t}\n\t};\n\n\tconst tokenLogin = async () => {\n\t\tconst token =\n\t\t\tJSON.parse(localStorage.getItem(\"connect_four_token\")) || false;\n\n\t\tif (token) {\n\t\t\ttry {\n\t\t\t\tconst player = await request(\"tokenLogin\", token);\n\t\t\t\tif (player.ok) registerPlayer(await player.json());\n\t\t\t\telse throw await player.json();\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err);\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\ttokenLogin();\n\t\treturn () => removeClient();\n\t}, []);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Header toggleDrawer={handleDrawerToggle} />\n\t\t\t{props.player.token && (\n\t\t\t\t<PlayerDrawer\n\t\t\t\t\tisVisible={isDrawerOpen}\n\t\t\t\t\ttoggleDrawer={handleDrawerToggle}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Switch>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/\"\n\t\t\t\t\trender={() => {\n\t\t\t\t\t\tif (props.player.token) return <Redirect to=\"/home\" />;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={classes.loginPageContainer}>\n\t\t\t\t\t\t\t\t<Splash />\n\t\t\t\t\t\t\t\t<PlayerForms registerPlayer={registerPlayer} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/home\"\n\t\t\t\t\trender={() => {\n\t\t\t\t\t\tif (!props.player.token) return <Redirect to=\"/\" />;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tclassName={classes.homePgContainer}\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\twrap=\"wrap-reverse\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item xs={6} className={classes.homePgItem}>\n\t\t\t\t\t\t\t\t\t<WorldChat />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={6} className={classes.homePgItem}>\n\t\t\t\t\t\t\t\t\t<GameRooms />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/active_game\"\n\t\t\t\t\trender={() => {\n\t\t\t\t\t\treturn <Connect4Grid />;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Route component={FourOhFourPage} />\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nconst mapDispatchToProps = dispatch => ({\n\tsavePlayer: player => dispatch(saveCurrentPlayer(player))\n});\n\nconst mapStateToDispatch = ({ currentPlayer }) => ({\n\tplayer: currentPlayer\n});\n\nexport default connect(mapStateToDispatch, mapDispatchToProps)(App);\n","const worldChat = (state = { players: [], messages: [] }, action) => {\n\tlet { players, messages } = state;\n\n\tswitch (action.type) {\n\t\tcase \"SET_GLOBAL_PLAYERS\":\n\t\t\treturn { players: action.players, messages };\n\t\tcase \"UPDATE_GLOBAL_PLAYERS\":\n\t\t\tconst { player } = action.player;\n\t\t\tif (action.player.update_type === \"delete\") {\n\t\t\t\tconst idxFound = players.findIndex(\n\t\t\t\t\tp => p.player_name === player.player_name\n\t\t\t\t);\n\t\t\t\tplayers.splice(idxFound, 1);\n\t\t\t\treturn { messages, players: [...players] };\n\t\t\t} else {\n\t\t\t\treturn { messages, players: [...players, player] };\n\t\t\t}\n\t\tcase \"UPDATE_GLOBAL_MESSAGES\":\n\t\t\treturn { players, messages: [...messages, action.message] };\n\t\tcase \"UPDATE_GLOBAL_CHAT\":\n\t\t\treturn { players: action.players, messages: action.messages };\n\t\tcase \"LOGOUT_USER\":\n\t\t\treturn { players: [], messages: [] };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default worldChat;\n","const initialState = {\n\tgridX: [\n\t\t[0, 0, 0, 0, 0, 0], // 0  Y Axis(ROW)\n\t\t[0, 0, 0, 0, 0, 0], // 1\n\t\t[0, 0, 0, 0, 0, 0], // 2\n\t\t[0, 0, 0, 0, 0, 0], // 3\n\t\t[0, 0, 0, 0, 0, 0], // 4\n\t\t[0, 0, 0, 0, 0, 0], // 5\n\t\t[0, 0, 0, 0, 0, 0]\n\t\t// 0, 1, 2, 3, 4, 5, 6 => X Axis(COLUMN)\n\t],\n\tprevSlot: [0, 0, 0],\n\tcurrentPlayer: null,\n\tstatus: \"\",\n\tmessages: [],\n\tplayers: [null, null],\n\twinner: null\n};\n\nconst currentGame = (state = initialState, action) => {\n\tconst { prevSlot } = action.data || state;\n\tconst gridCopy = [...state.gridX];\n\tif (prevSlot) gridCopy[prevSlot[0]][prevSlot[1]] = prevSlot[2];\n\n\tswitch (action.type) {\n\t\tcase \"UPDATE_ACTIVE_GAME\":\n\t\t\treturn {\n\t\t\t\tgridX: gridCopy,\n\t\t\t\tcurrentPlayer: action.data.currentPlayer,\n\t\t\t\tmessages: state.messages,\n\t\t\t\tstatus: action.data.status,\n\t\t\t\tplayers: state.players,\n\t\t\t\tprevSlot,\n\t\t\t\twinner: initialState.winner\n\t\t\t};\n\t\tcase \"UPDATE_INACTIVE_GAME\":\n\t\t\treturn {\n\t\t\t\tgridX: state.gridX,\n\t\t\t\tcurrentPlayer: state.currentPlayer,\n\t\t\t\tmessages: state.messages,\n\t\t\t\tstatus: action.data.status,\n\t\t\t\tplayers: action.data.players,\n\t\t\t\tprevSlot: state.prevSlot,\n\t\t\t\twinner: null\n\t\t\t};\n\t\tcase \"UPDATE_ACTIVE_GAME_MSGS\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [...state.messages, action.data]\n\t\t\t};\n\t\tcase \"REMATCH_GAME_RESET\":\n\t\t\treturn {\n\t\t\t\tgridX: [\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0]\n\t\t\t\t],\n\t\t\t\tcurrentPlayer: initialState.currentPlayer,\n\t\t\t\tmessages: state.messages,\n\t\t\t\tstatus: \"full\",\n\t\t\t\tplayers: state.players,\n\t\t\t\tprevSlot: initialState.prevSlot,\n\t\t\t\twinner: null\n\t\t\t};\n\t\tcase \"GAME_OVER\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\twinner: action.data.winner\n\t\t\t};\n\t\tcase \"RESET_GRID\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgridX: [\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0]\n\t\t\t\t]\n\t\t\t};\n\t\tcase \"RESET_PLAYER_READY\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayers: state.players.map(p => {\n\t\t\t\t\tp.isReady = false;\n\t\t\t\t\treturn p;\n\t\t\t\t})\n\t\t\t};\n\t\tcase \"LEAVE_ACTIVE_GAME\" || \"LOGOUT_USER\":\n\t\t\treturn {\n\t\t\t\tgridX: [\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0],\n\t\t\t\t\t[0, 0, 0, 0, 0, 0]\n\t\t\t\t],\n\t\t\t\tprevSlot: [0, 0, 0],\n\t\t\t\tcurrentPlayer: null,\n\t\t\t\tstatus: \"\",\n\t\t\t\tmessages: [],\n\t\t\t\tplayers: [null, null],\n\t\t\t\twinner: null\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default currentGame;\n","const currentPlayer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase \"SAVE_PLAYER_INFO\":\n\t\t\treturn action.player;\n\t\tcase \"LOGOUT_USER\":\n\t\t\treturn {};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default currentPlayer;\n","const allGameRooms = (state = [], action) => {\n\tconst rooms = [...state];\n\n\tswitch (action.type) {\n\t\tcase \"SET_ALL_GAME_ROOMS\":\n\t\t\treturn action.room;\n\t\tcase \"UPDATE_GAME_ROOM_LIST\":\n\t\t\tconst { updateType, roomId } = action.room;\n\t\t\tif (updateType === \"addRoom\") {\n\t\t\t\treturn [action.room, ...state];\n\t\t\t} else if (updateType === \"deleteRoom\") {\n\t\t\t\tconst idxFound = state.findIndex(r => r.roomId === roomId);\n\t\t\t\trooms.splice(idxFound, 1);\n\t\t\t\treturn rooms;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"UPDATE_A_GAME_ROOM\":\n\t\t\tif (action.room.updateType === \"updateRoom\") {\n\t\t\t\tconst idxFound = state.findIndex(r => r.roomId === action.room.roomId);\n\t\t\t\trooms.splice(idxFound, 1, action.room);\n\t\t\t\treturn rooms;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"LOGOUT_USER\":\n\t\t\treturn [];\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default allGameRooms;\n","import { combineReducers } from \"redux\";\nimport worldChat from \"./worldChat\";\nimport currentGame from \"./currentGame\";\nimport currentPlayer from \"./currentPlayer\";\nimport allGameRooms from \"./allGameRooms\";\n\nconst rootReducer = combineReducers({\n\tworldChat,\n\tcurrentGame,\n\tcurrentPlayer,\n\tallGameRooms\n});\n\nexport default rootReducer;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport App from \"./components/App\";\nimport rootReducer from \"./reducers\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<HashRouter>\n\t\t\t<CssBaseline />\n\t\t\t<App />\n\t\t</HashRouter>\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n\nexport default store;\n"],"sourceRoot":""}