(this["webpackJsonpconnect-four-fe"]=this["webpackJsonpconnect-four-fe"]||[]).push([[0],{139:function(e,t,a){e.exports=a(184)},173:function(e,t){},184:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),c=a.n(o),i=a(263),l=a(34),s=a.n(l),u=a(51),m=a(8),p=a(6),d=a(41),g=a(112),f=function(e){return{type:"UPDATE_GLOBAL_PLAYERS",player:e}},b=function(e){return{type:"SET_GLOBAL_PLAYERS",players:e}},y=function(e){return{type:"UPDATE_GLOBAL_MESSAGES",message:e}},h=function(){return{type:"LOGOUT_USER"}},v=function(e){return{type:"SAVE_PLAYER_INFO",player:e}},O=function(e){return{type:"SET_ALL_GAME_ROOMS",room:e}},E=function(e){return{type:"UPDATE_GAME_ROOM_LIST",room:e}},w=function(e){return{type:"UPDATE_A_GAME_ROOM",room:e}},j=function(e){return{type:"UPDATE_ACTIVE_GAME",data:e}},x=function(e){return{type:"UPDATE_INACTIVE_GAME",data:e}},k=function(e){return{type:"UPDATE_ACTIVE_GAME_MSGS",data:e}},P=function(e){return{type:"GAME_OVER",data:e}};function C(e){var t=e.type;"player"===t?aa.dispatch(f(e)):"message"!==t&&"notification"!==t||aa.dispatch(y(e))}function _(e){var t=e.type;"message"===t||"notification"===t?aa.dispatch(k(e)):"inactiveUpdate"===t?aa.dispatch(x(e)):"activeUpdate"===t?aa.dispatch(j(e)):"gameOver"===t&&aa.dispatch(P(e))}var S=a.n(g)()("https://ec2-34-205-32-52.compute-1.amazonaws.com:443");function N(){S.emit("leave world chat")}function A(e){S.emit("join world chat",e)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";S.emit("join game room",{roomId:e,password:t})}function G(){S.emit("leave game room")}function D(){S.on("active game update",_)}function T(){S.removeListener("active game update")}S.on("world chat update",C),S.on("send world chat players",(function(e){aa.dispatch(b(e))})),S.on("send all game rooms",(function(e){aa.dispatch(O(e))})),S.on("game rooms update",(function(e){var t=e.updateType;["addRoom","deleteRoom"].includes(t)?aa.dispatch(E(e)):"updateRoom"===t&&aa.dispatch(w(e))})),S.on("disconnect",(function(){aa.dispatch(h())}));var B=a(13),I=a(114),L=a(259),M=a(264),F=a(245),W=a(247),U=a(246),V=a(242),H=a(244),Y=a(243),z=a(230),J=function(e){var t=e[0]+e[e.length-1];return n.a.createElement(z.a,{size:"small"},t)},X=a(128),q=a(233),Z=a(69),$=a(70),K=a(234),Q=a(235),ee=a(236),te=a(237),ae=a(238),re=a(239),ne=a(240),oe=a(241),ce=a(68),ie=Object(X.a)({palette:{chips:{purple:q.a[500],pink:Z.a.A200,red:$.a[500],yellow:K.a.A200,blue:Q.a[500],orange:ee.a.A400},background:{blue:{dark:Q.a.A700,light:te.a.A700,lighter:te.a[100],cyan:ae.a.A400},green:{lime:re.a.A700,light:ne.a.A700},red:{red:$.a.A400}},dark:{darkBlueGray:oe.a[800],darkerBlueGray:oe.a[900],darkGray:ce.a[800],darkerGray:ce.a[900],midDarkBlue:oe.a[400],midBlue:oe.a[300]},light:{lighterGray:ce.a[50],lightGray:ce.a[200],lighterBlue:oe.a[50],lightBlue:oe.a[200]}}}),le=a(65),se=a.n(le),ue=Object(I.a)((function(e){return{root:{width:"100%",height:"40%",overflow:"scroll",backgroundColor:function(e){return e.palette.light.lighterBlue},padding:e.spacing(1),borderRadius:e.spacing(0,0,1,1)},playerCard:{backgroundColor:e.palette.background.paper,borderRadius:"5px"}}}));var me=Object(B.b)((function(e){return{players:e.worldChat.players}}))((function(e){var t=ue(ie),a=e.players;return n.a.createElement(U.a,{className:t.root,"aria-labelledby":"world-chat-players",subheader:n.a.createElement(W.a,{component:"div",id:"world-chat-players"},"Online Players")},n.a.createElement(F.a,null),a.map((function(e){var a=e.player_name;return n.a.createElement(V.a,{button:!0,className:t.playerCard,key:se()()},n.a.createElement(Y.a,null,J(a)),n.a.createElement(H.a,{primary:a}),n.a.createElement(F.a,null))})))})),pe=a(267),de=a(58),ge=a(265),fe=a(116),be=a.n(fe),ye=a(250),he=Object(I.a)((function(e){return{root:{width:"100%",borderRadius:"10px",marginBottom:"55px",overflow:"scroll",backgroundColor:e.palette.background.paper},userName:{display:"inline"},newMessageForm:{display:"flex",position:"absolute",bottom:0,width:"100%"},textField:{margin:e.spacing(1,0),width:"90%",marginRight:0,background:e.palette.background.paper},submit:{margin:e.spacing(1,0),marginLeft:0,background:e.palette.primary.main,color:e.palette.common.white,borderBottomLeftRadius:0},title:{width:"100%",padding:e.spacing(1,2),background:function(e){return e.palette.light.lighterBlue}},message:{width:"95%",overflowWrap:"break-word",color:function(e){return e.palette.dark.darkerBlueGray}}}}));var ve=function(e){var t=he(ie),a=e.messages,o=e.sendMessage,c=e.title,i=Object(r.useRef)(null),l=Object(r.useState)(""),s=Object(m.a)(l,2),u=s[0],p=s[1],d=Object(r.useState)(!1),g=Object(m.a)(d,2),f=g[0],b=g[1];Object(r.useEffect)((function(){f&&i.current.scrollIntoView({behavior:"smooth"})}),[e.messages,f]);var y=function(e){e.preventDefault(),u.length>0&&(o(u),p(""))};return n.a.createElement(M.a,{boxShadow:3,className:t.root},n.a.createElement(de.a,{variant:"h6",className:t.title},c),n.a.createElement(U.a,null,a.map((function(e){return function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return n.a.createElement(V.a,{key:se()(),alignItems:"flex-start",className:t.message},n.a.createElement(H.a,{className:t.message,primary:n.a.createElement(de.a,{component:"span",variant:"body2",className:t.userName,color:"textSecondary"},"message"===r&&"".concat(a,": ")),secondary:n.a.createElement(de.a,{component:"span",variant:"body2"},e)}))}(e.message,e.player_name,e.type)})),n.a.createElement("div",{ref:i})),n.a.createElement("form",{onFocus:function(){return b(!0)},onBlur:function(){return b(!1)},autoComplete:"off",className:t.newMessageForm,onSubmit:y},n.a.createElement(ge.a,{id:"outlined-multiline-flexible",label:"Message",rowsMax:"4",value:u,onChange:function(e){var t=e.target;return p(t.value)},className:t.textField,margin:"normal",variant:"outlined"}),n.a.createElement(ye.a,{variant:"contained",onClick:y,className:t.submit,endIcon:n.a.createElement(be.a,null)},"Send")))},Oe=Object(I.a)((function(e){return{container:Object(p.a)({padding:e.spacing(2,0,2,2),margin:"auto",maxWidth:"700px",display:"flex",flexDirection:"column",position:"relative",minHeight:"92vh",height:"100%"},e.breakpoints.down("md"),{paddingRight:e.spacing(2)}),chatToggle:{position:"absolute",right:"10px",top:"20px",zIndex:1},chatBox:{height:"60%",display:"flex",width:"100%",position:"relative",backgroundColor:e.palette.background.paper,borderRadius:e.spacing(1,1,0,0)}}}));var Ee=Object(B.b)((function(e){var t=e.worldChat,a=e.currentPlayer;return{messages:t.messages,me:a.player,token:a.token}}))((function(e){var t=Oe(ie),a=Object(r.useState)(!0),o=Object(m.a)(a,2),c=o[0],i=o[1],l=e.me,s=e.messages,u=l.player_name,p=l.win_streak,d=l._id,g=l.wins,f=l.losses;return Object(r.useEffect)((function(){A({player_name:u,win_streak:p,_id:d,wins:g,losses:f}),S.emit("get world chat players")}),[u,p,d,g,f]),n.a.createElement(M.a,{className:t.container},n.a.createElement(pe.a,{checked:c,onChange:function(){c?N():A({player_name:u,win_streak:p,_id:d,wins:g,losses:f}),i(!c)},className:t.chatToggle,value:"checkedB",color:"primary",inputProps:{"aria-label":"Join/leave world chat"}}),n.a.createElement(M.a,{className:t.chatBox},n.a.createElement(ve,{messages:s,sendMessage:function(e){!function(e){S.emit("broadcast to world chat",e)}(e)},title:"World Chat:"})),n.a.createElement(me,null))})),we=a(252),je=a(253),xe=a(251),ke=a(117),Pe=a.n(ke),Ce=Object(I.a)((function(e){return{root:{flexGrow:1,width:"100vw"},appBar:{background:function(e){return e.palette.dark.darkBlueGray},display:"flex",justifyContent:"center"},title:{flexGrow:1,color:function(e){return e.palette.light.lighterGray}},menuButton:Object(p.a)({marginRight:e.spacing(2),color:e.palette.primary.contrastText},e.breakpoints.up("lg"),{display:"none"})}}));var _e=Object(B.b)((function(e){return{player:e.currentPlayer.player||!1}}))((function(e){var t=Ce(ie),a=e.toggleDrawer;return n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:t.root},n.a.createElement(we.a,{position:"static",className:t.appBar},n.a.createElement(je.a,null,n.a.createElement(de.a,{variant:"h5",className:t.title},"Connect [ ]"),e.player&&n.a.createElement(xe.a,{"aria-label":"open drawer",edge:"start",onClick:a,className:t.menuButton},n.a.createElement(Pe.a,null))))))})),Se=a(254),Ne=a(119),Ae=a.n(Ne),Re=a(118),Ge=a.n(Re),De=a(248);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Be=Object(I.a)((function(e){var t;return{cardItem:{backgroundColor:function(e){return e.palette.background.blue.lighter},color:function(e){return e.palette.dark.darkerBlueGray},borderRadius:"5px",marginBottom:"10px"},joinBtn:Object(p.a)({marginRight:e.spacing(2),background:e.palette.background.paper,"&:hover":{background:function(e){return e.palette.background.green.light}}},e.breakpoints.down("sm"),{padding:"5px"}),cardsContainer:(t={padding:e.spacing(1),height:function(e){return e.isInRoom?"51vh":"87vh"}},Object(p.a)(t,e.breakpoints.down("sm"),{maxHeight:"43vh"}),Object(p.a)(t,"overflow","scroll"),t),fullMessage:{color:e.palette.common.white},avatarContainer:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("sm"),{flexDirection:"column"}),avatarIcon:{padding:"5px"}}}));var Ie=Object(B.b)((function(e){return{allGameRooms:e.allGameRooms,currPlayerName:e.currentPlayer.player.player_name}}))((function(e){var t=e.isInRoom,a=e.allGameRooms,o=e.joinHandler,c=e.currPlayerName,i=Object(r.useState)(""),l=Object(m.a)(i,2),s=l[0],u=l[1],d=Object(r.useState)(!1),g=Object(m.a)(d,2),f=g[0],b=g[1],y=Be(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ie,{isInRoom:t})),h=n.a.createElement(De.a,{placeholder:"Password",className:y.input,value:s,onChange:function(e){return u(e.target.value)},onBlur:function(){return b(!1)},autoFocus:!0,inputProps:{"aria-label":"room password input"}}),v=n.a.createElement(n.a.Fragment,null,n.a.createElement(de.a,{className:y.fullMessage,variant:"h5"},"No Rooms Available"),n.a.createElement(de.a,{className:y.fullMessage,variant:"subtitle1"},'Click "NEW ROOM" to create a new one'));return n.a.createElement(U.a,{className:y.cardsContainer},a.length?a.map((function(e){var t=e.roomId,a=e.players,r=e.name,i=e.status,l=e.hasPassword,m=(a[0]||a[1]).player_name,p="full"===i,d=a.some((function(e){return null!==e&&e.player_name===c}));return n.a.createElement(V.a,{key:t,className:y.cardItem},n.a.createElement(ye.a,{disabled:p||d,variant:"contained",onClick:function(){return function(e,t){t&&!s.length?b(!0):(o(e,s),u(""))}(t,l)},className:y.joinBtn,endIcon:l||p?n.a.createElement(Ge.a,null):n.a.createElement(Ae.a,null)},p?"Full":"Join"),n.a.createElement(H.a,{primary:f?h:r,secondary:m}),n.a.createElement(Se.a,{className:y.avatarContainer},n.a.createElement(de.a,{variant:"subtitle2"},"Win Rate: 90%"),n.a.createElement(xe.a,{className:y.avatarIcon,edge:"end","aria-label":"requires-password"},J(m))))})):v)})),Le=a(255),Me=a(258),Fe=a(257),We=a(256);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Ve=Object(I.a)((function(e){return{inputContainer:{display:"flex",width:"30vw",maxWidth:"550px",minWidth:"280px",flexDirection:"column"}}}));function He(e){var t=e.submitHandler,a=e.isVisible,o=e.showForm,c=Ve(),i=Object(r.useState)({roomName:"",roomPassword:""}),l=Object(m.a)(i,2),s=l[0],u=l[1],d=function(e){var t=e.target;return u(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},s,Object(p.a)({},t.name,t.value)))};return n.a.createElement(Le.a,{open:a,onClose:function(){return o(!1)},"aria-labelledby":"Create new room"},n.a.createElement(We.a,{id:"Create new room"},"Create New Room"),n.a.createElement(Fe.a,{className:c.inputContainer},n.a.createElement(ge.a,{autoFocus:!0,required:!0,margin:"dense",onChange:d,label:"Name (3-35 Chars)",type:"text",name:"roomName",inputProps:{maxLength:"45",autoComplete:"off"}}),n.a.createElement(ge.a,{margin:"dense",onChange:d,label:"Password (Optional)",type:"text",name:"roomPassword",inputProps:{maxLength:"15",autoComplete:"off"}})),n.a.createElement(Me.a,null,n.a.createElement(ye.a,{onClick:function(){s.roomName.length>2&&(t(s),u({roomName:"",roomPassword:""}))},color:"primary"},"Create"),n.a.createElement(ye.a,{onClick:function(){return o(!1)},color:"primary"},"Cancel")))}var Ye=a(67),ze=a.n(Ye),Je=a(11),Xe=a(120),qe=a.n(Xe),Ze=a(260),$e=a(249);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Qe=Object(I.a)((function(e){return{root:{maxWidth:"700px",marginBottom:"10px",padding:e.spacing(3,2,2,2),background:function(e){return e.palette.light.lighterBlue},position:"relative",textAlign:"center",justifyContent:"center",borderRadius:"10px"},playerCard:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",padding:"20px 0",borderRadius:"20px",margin:"10px auto",boxShadow:e.shadows[2]},leaveButton:{position:"absolute",top:e.spacing(2),right:e.spacing(2)},isReady:{background:function(e){return e.palette.dark.midDarkBlue},color:"#FFFFFF"},mainCardBorder:{border:function(e){var t=e.playerColor;return"8px solid ".concat(t.length?t:"white")}},oppCardBorder:{border:function(e){var t=e.oppColor;return"8px solid ".concat(t.length?t:"white")}},mainReadyBtn:{margin:e.spacing(1)},chip:Object(p.a)({height:"6vw",width:"6vw",maxWidth:"80px",maxHeight:"80px",alignSelf:"flex-end"},e.breakpoints.down("sm"),{width:"9vw",height:"9vw",minWidth:"40px",minHeight:"40px"}),chipHover:{"&:hover":{border:function(e){var t=e.palette;return"6px solid ".concat(t.light.lighterBlue)},cursor:"pointer"}},colorsContainer:{display:"flex",justifyContent:"space-around",alignContent:"center",margin:"10px"},colorBoxTitle:{textAlign:"center",color:function(e){return e.palette.light.lighterGray},borderRadius:"5px 5px 0 0",background:function(e){return e.palette.dark.darkBlueGray}},colorsBox:{borderRadius:"5px",boxShadow:e.shadows[2],display:"flex",background:function(e){return e.palette.light.lightBlue},flexDirection:"column"},playerColor:{border:function(e){var t=e.palette;return"6px solid ".concat(t.dark.darkerBlueGray)}},oppColor:{cursor:"not-allowed",opacity:".1",border:function(e){var t=e.palette;return"6px solid ".concat(t.light.lightGray)}},opponentReadyBtn:{padding:"5px 10px",borderRadius:"10px"}}}));var et=Object(B.b)((function(e){var t=e.currentGame,a=e.currentPlayer;return{players:t.players,currPlayerName:a.player.player_name}}),(function(e){return{resetActiveGame:function(){return e({type:"LEAVE_ACTIVE_GAME"})}}}))((function(e){var t=Object.values(ie.palette.chips),a=Object(r.useState)(!1),o=Object(m.a)(a,2),c=o[0],i=o[1],l=Object(r.useState)({}),s=Object(m.a)(l,2),u=s[0],d=s[1],g=Object(r.useState)({}),f=Object(m.a)(g,2),b=f[0],y=f[1],h=Object(r.useState)(""),v=Object(m.a)(h,2),O=v[0],E=v[1],w=Object(r.useState)(""),j=Object(m.a)(w,2),x=j[0],k=j[1],P=e.players,C=e.currPlayerName,_=e.resetActiveGame,N=Object(r.useRef)(e.players),A=Qe(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ie,{oppColor:x,playerColor:O})),R=function(){var e=Object(Je.a)(t).filter((function(e){return e!==x}));return e[Math.floor(Math.random()*e.length)]},D=function(e,t){var a=A.playerColor,r=A.oppColor,n=A.chip,o=A.chipHover;switch(!0){case e:return"".concat(n," ").concat(a);case t:return"".concat(n," ").concat(r);default:return"".concat(n," ").concat(o)}};Object(r.useEffect)((function(){if(P!==N){var e=!0,t=!1,a=void 0;try{for(var r,n=P[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value||{};o.player_name===C?(d(o),E(o.chipColor||"")):(y(o),k(o.chipColor||""))}}catch(c){t=!0,a=c}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}}),[P,N,C]);var B=function(){var e,t={isReady:!c,chipColor:O.length?O:R()};e=t,S.emit("set player ready",e),i(!c)};return n.a.createElement(L.a,{className:A.root,container:!0,wrap:"wrap"},n.a.createElement(Ze.a,{color:"inherit","aria-label":"leave room",className:A.leaveButton,size:"small",onClick:function(){T(),G(),_()}},n.a.createElement(qe.a,null)),n.a.createElement(L.a,{item:!0,xs:12},n.a.createElement(de.a,{variant:"h5"},"Waiting for Opponent")),P.map((function(e){var t=A.playerCard,a=A.mainCardBorder,r=A.oppCardBorder,o=A.isReady,c=e||{},i=c===u,l=n.a.createElement(M.a,{className:A.opponentReadyBtn,boxShadow:3},n.a.createElement(de.a,{variant:"subtitle1"},b.isReady?"READY!":"Not Ready"));return n.a.createElement($e.a,{in:!!c.player_name,key:c.clientId||"OPPONENT"},n.a.createElement(L.a,{item:!0,xs:5,className:"".concat(t," ").concat(i?a:r," ").concat(c.isReady&&o)},!!c.player_name&&J(c.player_name),n.a.createElement(de.a,{variant:"h6"},c.player_name),n.a.createElement(M.a,null,i&&n.a.createElement(ye.a,{onClick:B,variant:"contained",color:c.isReady?"primary":"inherit",className:A.mainReadyBtn},c.isReady?"Ready!":"Ready?"),!!b.player_name&&!i&&l)))})),n.a.createElement(L.a,{item:!0,xs:12,className:A.colorsBox},n.a.createElement(de.a,{variant:"subtitle1",className:A.colorBoxTitle},"Choose Your Color"),n.a.createElement(M.a,{className:A.colorsContainer},t.map((function(e){var t=e===O,a=e===x;return n.a.createElement(M.a,{onClick:function(){var t;(t=e)!==x&&E(t)},boxShadow:3,key:e,borderRadius:"50%",bgcolor:e,className:D(t,a)})})))))}));function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var at=Object(I.a)((function(e){return{root:Object(p.a)({maxWidth:"700px",display:"flex",height:"100%",margin:"auto",padding:e.spacing(2),justifyContent:"space-between",flexDirection:"column"},e.breakpoints.down("sm"),{height:function(e){return e.isInRoom?"100vh":"51vh"}}),titleContainer:{borderRadius:"5px 5px 0 0",display:"flex",justifyContent:"space-between",padding:e.spacing(1,1,1,2),background:function(e){return e.palette.light.lighterBlue}},roomsContainer:{borderRadius:"5px",margin:"auto",height:"100%",width:"100%",background:function(e){return e.palette.background.blue.light}}}}));var rt=Object(B.b)((function(e){return{allGameRooms:e.allGameRooms,currRoomStatus:e.currentGame.status}}),(function(e){return{resetActiveGame:function(){return e({type:"LEAVE_ACTIVE_GAME"})}}}))((function(e){var t=Object(r.useState)(!1),a=Object(m.a)(t,2),o=a[0],c=a[1],i=e.currRoomStatus,l=e.resetActiveGame,s=Object(r.useState)(!1),u=Object(m.a)(s,2),g=u[0],f=u[1],b=at(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ie,{isInRoom:g}));Object(r.useEffect)((function(){f("waiting"===i||"full"===i)}),[i,f]);var y=function(e){c(e)},h=function(){T(),G(),l()},v=n.a.createElement(M.a,{boxShadow:3,className:b.roomsContainer},n.a.createElement(M.a,{className:b.titleContainer},n.a.createElement(de.a,{variant:"h6"},"Available Rooms:"),!g&&n.a.createElement(ye.a,{variant:"outlined",color:"primary",onClick:function(){return y(!0)},startIcon:n.a.createElement(ze.a,null)},"New Room")),n.a.createElement(Ie,{isInRoom:g,joinHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g?(h(),R(e,t),D()):(R(e,t),D())}}));return"active"===i?n.a.createElement(d.a,{to:"/active_game"}):n.a.createElement("article",{className:b.root},n.a.createElement(He,{submitHandler:function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";S.emit("create game room",{name:e,password:t})}(e.roomName,e.roomPassword),D(),c(!1)},isVisible:o,showForm:y}),g&&n.a.createElement(et,{leaveHandler:h}),v)})),nt=a(130);function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var it=Object(I.a)((function(e){var t;return{root:{paddingRight:e.spacing(1),margin:"auto"},turnIndicator:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px 10px 0 0",background:function(e){var t=e.isPlayerTurn,a=e.main,r=e.opp;return t?a:r}},gridContainer:Object(p.a)({display:"flex",padding:e.spacing(1),justifyContent:"center",borderRadius:"0 0 10px 10px",background:function(e){return e.palette.dark.midBlue}},e.breakpoints.down("sm"),{width:"98vw"}),column:{dispaly:"flex",flexDirection:"column"},slot:(t={borderRadius:"50%",width:"8vw",height:"8vw",margin:".8vw",borderColor:"darkGray"},Object(p.a)(t,e.breakpoints.up("md"),{maxWidth:"125px",maxHeight:"125px",margin:"13px"}),Object(p.a)(t,e.breakpoints.down("sm"),{width:"12vw",height:"12vw"}),t),emptySlot:{background:function(e){var t=e.palette,a=e.oppWin,r=e.mainWin,n=e.isActive;return a||r||!n?t.dark.midBlue:t.light.lighterGray}},highlightSlot:{background:function(e){return e.main},display:"flex",justifyContent:"center",alignItems:"center"},highlightBorder:{borderColor:function(e){return e.isPlayerTurn?"white":"darkGray"},borderWidth:4},mainBg:{background:function(e){return e.main},border:function(e){var t=e.main,a=e.mainWin,r=e.palette;return"4px solid ".concat(a?r.light.lighterGray:t)}},oppBg:{background:function(e){return e.opp},border:function(e){var t=e.opp,a=e.oppWin,r=e.palette;return"4px solid ".concat(a?r.light.lighterGray:t)}},addChipIcon:{width:"4vw",height:"4vw",minWidth:"30px",minHeight:"30px"},addChipBtn:{color:function(e){return e.isPlayerTurn?"white":"darkGray"}},reMatchBox:{margin:"10px auto",maxWidth:"800px"}}})),lt={m:1,border:1,boxShadow:3};var st=Object(B.b)((function(e){var t=e.currentGame,a=e.currentPlayer;return{grid:t.gridX,currentTurn:t.currentPlayer?t.currentPlayer.player_name:t.currentPlayer,currentPlayer:a.player?a.player.player_name:null,players:t.players,prevSlot:t.prevSlot,winner:t.winner,gameStatus:t.status}}),(function(e){return{resetGame:function(){return e({type:"REMATCH_GAME_RESET"})},resetPlayerReady:function(){return e({type:"RESET_PLAYER_READY"})}}}))((function(e){var t=e.grid,a=e.gameStatus,o=e.currentTurn,c=e.currentPlayer,i=e.players,l=e.prevSlot,s=e.winner,u=e.resetGame,p=e.resetPlayerReady,d=o===c,g="active"===a,f=Object(r.useState)({}),b=Object(m.a)(f,2),y=b[0],h=b[1],v=Object(r.useState)({}),O=Object(m.a)(v,2),E=O[0],w=O[1],j=Object(r.useState)(!1),x=Object(m.a)(j,2),k=x[0],P=x[1],C=y.player_name===s,_=E.player_name===s,N=Object(r.useRef)({winner:s,grid:t,players:i}),A=Object(r.useState)(null),R=Object(m.a)(A,2),G=R[0],D=R[1],T=it(ct({},ie,{main:y.chipColor,mainWin:C,opp:E.chipColor,oppWin:_,isPlayerTurn:d,isActive:g}));k&&i[0].isReady&&i[1].isReady&&(P(!1),u()),Object(r.useEffect)((function(){(!y.player_name||!E.player_name||i!==N.current.players)&&g&&(i[0].player_name===c?(h(ct({},i[0],{slot:1})),w(ct({},i[1],{slot:2}))):i[1].player_name===c&&(h(ct({},i[1],{slot:2})),w(ct({},i[0],{slot:1}))),N.current.players=i)}),[c,i,y,E,g]),Object(r.useEffect)((function(){s!==N.current.winner&&null!==s&&g&&(h(ct({},y,{isReady:!1})),w(ct({},E,{isReady:!1})),p(),P(!0)),N.current.winner=s}),[s,p,y,E,P,g]);var B=function(e,t,a){var r=T.mainBg,n=T.oppBg,o=T.highlightSlot,c=T.highlightBorder,i=T.emptySlot;switch(!0){case e===y.slot:return r;case e===E.slot:return n;case t&&a&&!_&&!C:return"".concat(o," ").concat(c);default:return i}},I=function(e){var t=e.target,a=(t.id||t.parentElement.id).split(":");D(parseInt(a[1]))},L=function(){!function(e){S.emit("place player chip",e)}(G)};return n.a.createElement("div",{className:T.root},k&&n.a.createElement("div",null,n.a.createElement($e.a,{in:k},n.a.createElement(M.a,{className:T.reMatchBox},n.a.createElement(et,null)))),n.a.createElement(M.a,{className:T.turnIndicator},n.a.createElement(de.a,{variant:"h5"},!k&&"".concat(d?"Your":E.player_name+"'s"," Turn!"),C&&"You Win!",_&&"".concat(E.player_name," Wins!"))),n.a.createElement(M.a,{boxShadow:3,className:T.gridContainer,onMouseLeave:function(){return D(null)}},t.map((function(e,t){for(var a,r=G===t,o=e.length-1;o>=0;o--)if(0===e[o]){a=o;break}return n.a.createElement(M.a,{key:"col".concat(t),className:T.column,id:"xCoordinate:".concat(t),onMouseEnter:I},e.map((function(e,o){var c=a===o&&r,i=l.join("")===[t,o,e].join(""),s=n.a.createElement(nt.a,{in:c},n.a.createElement(M.a,Object.assign({onClick:L,className:"".concat(T.slot," ").concat(B(e,r,c))},lt),n.a.createElement(xe.a,{className:T.addChipBtn},n.a.createElement(ze.a,{className:T.addChipIcon})))),u=n.a.createElement(M.a,Object.assign({key:"col".concat(t,"row").concat(o,"player").concat(e),className:"".concat(T.slot," ").concat(B(e,r,c))},lt)),m=n.a.createElement($e.a,{key:"col".concat(t,"row").concat(o,"player").concat(e),in:i,timeout:600},n.a.createElement(M.a,Object.assign({className:"".concat(T.slot," ").concat(B(e,r,c))},lt)));return r&&c&&!k?s:i?m:u})))}))))})),ut=Object(I.a)((function(e){var t,a;return{root:(t={display:"flex",maxWidth:"1600px",padding:e.spacing(1)},Object(p.a)(t,e.breakpoints.up("lg"),{margin:"0 auto"}),Object(p.a)(t,e.breakpoints.down("md"),{flexWrap:"wrap",justifyContent:"center"}),Object(p.a)(t,"background",(function(e){return e.palette.dark.midDarkBlue})),t),chatBox:(a={},Object(p.a)(a,e.breakpoints.down("md"),{marginTop:e.spacing(2),width:"70vw",height:"60vh"}),Object(p.a)(a,e.breakpoints.up("lg"),{width:"100%"}),Object(p.a)(a,"display","flex"),Object(p.a)(a,"width","100%"),Object(p.a)(a,"position","relative"),a),chatToggle:{position:"absolute",right:"5px",top:"5px",zIndex:1}}}));var mt=Object(B.b)((function(e){var t=e.currentGame;return{grid:t.grid,status:t.status,messages:t.messages}}),(function(e){return{resetGame:function(){return e({type:"LEAVE_ACTIVE_GAME"})},resetGameGrid:function(){return e({type:"RESET_GRID"})}}}))((function(e){var t=ut(ie),a=Object(r.useState)(!0),o=Object(m.a)(a,2),c=o[0],i=o[1],l=e.status,s=e.resetGame,u=e.resetGameGrid;return"active"!==l&&"full"!==l?("waiting"===l?u():s(),n.a.createElement(d.a,{to:"/home"})):n.a.createElement(M.a,{className:t.root},n.a.createElement(st,null),n.a.createElement(M.a,{className:t.chatBox},n.a.createElement(pe.a,{checked:c,onChange:function(){i(!c)},value:"checkedB",className:t.chatToggle,color:"primary",inputProps:{"aria-label":"Join/leave game chat"}}),c&&n.a.createElement(ve,{messages:e.messages,sendMessage:function(e){var t;t=e,S.emit("send in game message",t)},title:"Game Chat:"})))})),pt=a(261),dt={routes:{login:"https://ec2-34-205-32-52.compute-1.amazonaws.com:443/api/v1/login",signup:"https://ec2-34-205-32-52.compute-1.amazonaws.com:443/api/v1/signup",anonLogin:"https://ec2-34-205-32-52.compute-1.amazonaws.com:443/api/v1/anonymous"},noTokenPost:function(e,t){return fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},loginViaEmail:function(e){return this.noTokenPost(this.routes.login,e)},signupUser:function(e){return this.noTokenPost(this.routes.signup,e)},loginViaToken:function(e){return fetch(this.routes.login,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})},anonymousLogin:function(e){return this.noTokenPost(this.routes.anonLogin,e)}},gt=function(e,t){switch(e){case"login":return dt.loginViaEmail(t);case"tokenLogin":var a=JSON.parse(localStorage.getItem("connect_four_token"))||t;return dt.loginViaToken(a);case"signupUser":return dt.signupUser(t);case"anonymousLogin":return dt.anonymousLogin(t);default:console.log("def")}};function ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ft(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ft(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yt=Object(I.a)((function(e){return{root:{display:"flex",position:"fixed",top:"5%",right:"0",margin:e.spacing(2),flexDirection:"row-reverse"},inputsContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap",minWidth:"300px",padding:e.spacing(2),position:"relative",background:"rgba(255, 255, 255, .9)",boxShadow:e.shadows[5]},loadingIcon:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",height:"100%",width:"100%"},optionButton:{margin:"10px 0"},error:{color:"red",margin:"5px auto"}}}));var ht=function(e){var t=yt(),a=Object(r.useState)({}),o=Object(m.a)(a,2),c=o[0],i=o[1],l=Object(r.useState)({}),d=Object(m.a)(l,2),g=d[0],f=d[1],b=Object(r.useState)(!1),y=Object(m.a)(b,2),h=y[0],v=y[1],O=Object(r.useState)(!1),E=Object(m.a)(O,2),w=E[0],j=E[1],x=Object(r.useState)([]),k=Object(m.a)(x,2),P=k[0],C=k[1],_=Object(r.useState)(!1),S=Object(m.a)(_,2),N=S[0],A=S[1],R=function(e){var t=e.target;return i(bt({},c,Object(p.a)({},t.name,t.value)))},G=function(e){var t=e.target,a=t.value.replace(/[^a-zA-Z\s0-9]/g,""),r=a.replace(/[\s]/g,"");"secret_one"===t.name||"secret_two"===t.name?f(bt({},g,Object(p.a)({},t.name,a))):"email"===t.name?f(bt({},g,Object(p.a)({},t.name,t.value))):f(bt({},g,Object(p.a)({},t.name,r)))},D=function(){for(var e=[],t=0,a=["email","player_name","password","confirm_password","secret_one","secret_two"];t<a.length;t++){var r=a[t],n=r.split("_").join(" ");g[r]?g[r].length<3?e.push({type:"input",error:"".concat(n.toUpperCase()," must be at least 3 characters or longer.")}):"password"===r&&g.password!==g.confirm_password&&e.push({type:"input",error:"Passwords must match."}):e.push({type:"input",error:"".concat(n.toUpperCase()," is required.")})}return!(e.length>0)||(C(e),!1)},T=n.a.createElement("div",{className:t.loadingIcon},n.a.createElement(pt.a,null)),B=function(){var t=Object(u.a)(s.a.mark((function t(a){var r,n,o,c,i,l,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,!D()){t.next=20;break}return r=g.email,n=g.password,o=g.player_name,c=g.secret_one,i=g.secret_two,t.next=6,gt("signupUser",{email:r,password:n,player_name:o,secret_one:c,secret_two:i});case 6:if((l=t.sent).ok){t.next=14;break}return A(!1),t.next=11,l.json();case 11:throw t.sent;case 14:return t.next=16,l.json();case 16:u=t.sent,e.registerPlayer(u),A(!1);case 19:case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(1),C([t.t0]);case 25:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(u.a)(s.a.mark((function t(a){var r,n,o,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=g.player_name,A(!0),t.prev=3,t.next=6,gt("anonymousLogin",{player_name:r});case 6:if((n=t.sent).ok){t.next=14;break}return A(!1),t.next=11,n.json();case 11:throw t.sent;case 14:return t.next=16,n.json();case 16:o=t.sent,c=bt({player:{player_name:r},type:"anonymous"},o),e.registerPlayer(c),A(!1);case 20:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(3),C([t.t0]);case 26:case"end":return t.stop()}}),t,null,[[3,23]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(u.a)(s.a.mark((function t(a){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),A(!0),t.prev=2,t.next=5,gt("login",c);case 5:if((r=t.sent).ok){t.next=13;break}return A(!1),t.next=10,r.json();case 10:throw t.sent;case 13:return t.t0=e,t.next=16,r.json();case 16:t.t1=t.sent,t.t0.registerPlayer.call(t.t0,t.t1),A(!1);case 19:t.next=25;break;case 22:t.prev=22,t.t2=t.catch(2),C([t.t2]);case 25:case"end":return t.stop()}}),t,null,[[2,22]])})));return function(e){return t.apply(this,arguments)}}(),F=function(){return P.map((function(e){return n.a.createElement($e.a,{in:!!P.length,timeout:400},n.a.createElement(de.a,{className:t.error},e.error))}))},W=n.a.createElement("div",{className:t.inputsContainer},n.a.createElement(ye.a,{color:"secondary",variant:"contained",className:t.optionButton,onClick:function(){v(!0),j(!1)}},"Create Account"),!w&&n.a.createElement(ye.a,{color:"secondary",variant:"contained",className:t.optionButton,onClick:function(){return j(!0)}},"Login Anonymously")),U=n.a.createElement("form",{autoComplete:"off",onSubmit:I},n.a.createElement(M.a,{className:t.inputsContainer},n.a.createElement(de.a,{variant:"h6"},"Anonymous Login"),n.a.createElement(ge.a,{id:"player_name",label:"Player Name",className:t.textField,type:"text",name:"player_name",value:g.player_name||"",onChange:G,margin:"normal",variant:"outlined",inputProps:{maxLength:15}}),n.a.createElement("h4",null,N&&T),!!P.length&&F(),n.a.createElement(ye.a,{color:"primary",type:"submit",variant:"contained"},"Login"),n.a.createElement(ye.a,{color:"primary",size:"small",onClick:function(){v(!1),j(!1)}},"Already a user? Click me"))),V=n.a.createElement("form",{autoComplete:"off",onSubmit:B},n.a.createElement(M.a,{className:t.inputsContainer},n.a.createElement(ge.a,{id:"outlined-email",label:"Email",className:t.textField,type:"email",name:"email",value:g.email||"",onChange:G,margin:"normal",variant:"outlined",inputProps:{maxLength:35}}),n.a.createElement(ge.a,{id:"outlined-player-name",label:"Player Name",className:t.textField,type:"text",name:"player_name",value:g.player_name||"",onChange:G,margin:"normal",variant:"outlined",inputProps:{maxLength:20}}),n.a.createElement(ge.a,{id:"outlined-password",label:"Password",className:t.textField,type:"password",name:"password",value:g.password||"",onChange:G,margin:"normal",variant:"outlined",inputProps:{maxLength:25}}),n.a.createElement(ge.a,{id:"outlined-confirm-password",label:"Confirm Password",className:t.textField,type:"password",name:"confirm_password",value:g.confirm_password||"",onChange:G,margin:"normal",variant:"outlined",inputProps:{maxLength:25}}),n.a.createElement(ge.a,{id:"outlined-secret-one",label:"Secret Phrase One (For: Password Reset)",className:t.textField,type:"text",name:"secret_one",value:g.secret_one||"",onChange:G,margin:"normal",variant:"outlined",inputProps:{maxLength:40}}),n.a.createElement(ge.a,{id:"outlined-secret-two",label:"Secret Phrase Two (For: Password Reset)",className:t.textField,type:"text",name:"secret_two",value:g.secret_two||"",onChange:G,margin:"normal",variant:"outlined",inputProps:{maxLength:40}}),n.a.createElement("h4",null,N&&T),!!P.length&&F(),n.a.createElement(ye.a,{color:"primary",type:"submit",variant:"contained"},"Create"),n.a.createElement(ye.a,{color:"primary",size:"small",onClick:function(){return v(!1)}},"Already a user? Click me"))),H=n.a.createElement("form",{autoComplete:"off",onSubmit:L},n.a.createElement(M.a,{className:t.inputsContainer},n.a.createElement(ge.a,{error:!!P.length,id:"outlined-email",label:"Email",className:t.textField,type:"email",name:"email",value:c.email||"",onChange:R,margin:"normal",variant:"outlined",inputProps:{maxLength:35}}),n.a.createElement(ge.a,{error:!!P.length,id:"outlined-password",label:"Password",className:t.textField,name:"password",type:"password",value:c.password||"",onChange:R,margin:"normal",variant:"outlined",inputProps:{maxLength:25}}),N&&T,!!P.length&&F(),n.a.createElement(ye.a,{color:"primary",type:"submit",variant:"contained"},"Log In")));return n.a.createElement("div",{className:t.root},n.a.createElement(M.a,{onFocus:function(){return C([])}},!h&&!w&&H,h&&V,w&&U,!h&&W))},vt=a(268),Ot=a(266),Et=a(262),wt=a(126),jt=a.n(wt),xt=a(122),kt=a.n(xt),Pt=a(123),Ct=a.n(Pt),_t=a(124),St=a.n(_t),Nt=a(125),At=a.n(Nt),Rt=a(43);function Gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gt(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Tt=Object(I.a)((function(e){return{drawer:Object(p.a)({},e.breakpoints.up("md"),{width:230,flexShrink:0}),toolbar:Dt({},e.mixins.toolbar,{padding:e.spacing(1),display:"flex",alignItems:"center"}),drawerPaper:{width:230,background:function(e){return e.palette.light.lighterBlue},color:function(e){return e.palette.dark.darkerBlueGray}},fixedMenu:Object(p.a)({},e.breakpoints.down("md"),{display:"none"}),menuList:{},userName:{marginLeft:e.spacing(3)},link:{textDecoration:"none",color:"red"}}}));var Bt=Object(B.b)((function(e){var t=e.currentPlayer;return{player:t.player,isActive:t.token}}),(function(e){return{deletePlayer:function(){return e(v({}))},resetActiveGame:function(){return e({type:"LEAVE_ACTIVE_GAME"})}}}))((function(e){var t=Tt(ie),a=n.a.createElement("div",null,n.a.createElement("div",{className:t.toolbar},J(e.player.player_name),n.a.createElement(de.a,{variant:"h6",className:t.userName},e.player.player_name)),n.a.createElement(F.a,null),n.a.createElement(U.a,{className:t.menuList},n.a.createElement(V.a,{button:!0,key:"Stats",onClick:function(){}},n.a.createElement(Et.a,null,n.a.createElement(kt.a,null)),n.a.createElement(H.a,{primary:"Stats"})),n.a.createElement(V.a,{button:!0,key:"Achievements",onClick:function(){}},n.a.createElement(Et.a,null,n.a.createElement(Ct.a,null)),n.a.createElement(H.a,{primary:"Achievements"})),n.a.createElement(V.a,{button:!0,key:"Account",onClick:function(){}},n.a.createElement(Et.a,null,n.a.createElement(St.a,null)),n.a.createElement(H.a,{primary:"Account"})),n.a.createElement(V.a,{button:!0,key:"Friends",onClick:function(){}},n.a.createElement(Et.a,null,n.a.createElement(At.a,null)),n.a.createElement(H.a,{primary:"Friends"}))),n.a.createElement(F.a,null),n.a.createElement(U.a,{className:t.menuList},n.a.createElement(Rt.b,{to:"/",className:t.link},n.a.createElement(V.a,{button:!0,key:"Logout",onClick:function(){N(),G(),e.resetActiveGame(),e.deletePlayer(),localStorage.removeItem("connect_four_token"),e.toggleDrawer()}},n.a.createElement(Et.a,null,n.a.createElement(jt.a,null)),n.a.createElement(H.a,{primary:"Logout"})))));return n.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},n.a.createElement(Ot.a,{smUp:!0,implementation:"css"},n.a.createElement(vt.a,{variant:"temporary",anchor:"right",open:e.isVisible,onClose:e.toggleDrawer,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},a)),n.a.createElement(Ot.a,{xsDown:!0,implementation:"css"},n.a.createElement(vt.a,{classes:{paper:t.drawerPaper},className:t.fixedMenu,variant:"permanent",open:!0,anchor:"right"},a)))}));function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Lt=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",background:function(e){return e.palette.dark.midBlue}},gridContainer:{overflow:"hidden",display:"flex",padding:e.spacing(1),justifyContent:"center",borderRadius:"0 0 10px 10px"},column:{dispaly:"flex",flexDirection:"column"},slot:Object(p.a)({borderRadius:"50%",width:"11vw",height:"11vw",margin:"1vw",maxWidth:"140px",maxHeight:"140px"},e.breakpoints.down("sm"),{width:"10vh",height:"10vh",margin:"1vh"}),emptySlot:{background:function(e){return e.palette.light.lighterGray}},chipOne:{background:function(e){return e.chipOne}},chipTwo:{background:function(e){return e.chipTwo}}}})),Mt={m:1,boxShadow:3};var Ft=function(){var e=Object.values(ie.palette.chips).sort((function(){return.5-Math.random()})),t=Object(r.useState)(e[0]),a=Object(m.a)(t,1)[0],o=Object(r.useState)(e[1]),c=Object(m.a)(o,1)[0],i=Object(r.useState)([0,0]),l=Object(m.a)(i,2),s=l[0],u=l[1],d=Object(r.useState)(1),g=Object(m.a)(d,2),f=g[0],b=g[1],y=Object(r.useState)([[0,0,0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1,2,2],[0,0,0,0,0,0,0,0,2,2],[0,0,0,0,0,0,0,0,1,1],[0,0,0,0,0,0,0,1,1,2],[0,0,0,0,0,0,0,0,0,2],[0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,1]]),h=Object(m.a)(y,2),v=h[0],O=h[1],E=Lt(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ie,{chipOne:a,chipTwo:c})),w=Object(r.useCallback)((function(){for(var e=Math.floor(Math.random()*v.length),t=v[e].length-1;t>=0;t--)if(0===v[e][t]){var a=Object(Je.a)(v);a[e][t]=f,O(a),u([e,t]),b(1===f?2:1);break}}),[b,f,v]);Object(r.useEffect)((function(){var e=setInterval(w,1300);return function(){return clearInterval(e)}}),[w]);var j=function(e,t){var a=E.chipOne,r=E.chipTwo,n=E.emptySlot;switch(!0){case 1===t:return a;case 2===t:return r;default:return n}},x=v.map((function(e,t){return n.a.createElement(M.a,{key:"col".concat(t),className:E.column},e.map((function(e,a){var r=t===s[0]&&a===s[1],o=n.a.createElement(M.a,Object.assign({className:"".concat(E.slot," ").concat(j(0,e))},Mt)),c=n.a.createElement($e.a,{key:"col".concat(t,"row").concat(a,"chip").concat(e),in:r,direction:"down",timeout:800},o);return r?c:o})))}));return n.a.createElement(M.a,{className:E.root},n.a.createElement(M.a,{boxShadow:3,className:E.gridContainer},x))},Wt=Object(I.a)((function(e){return{root:{display:"flex",flexDirection:"column",textAlign:"center",paddingTop:"10vh",background:function(e){return e.palette.dark.midBlue},height:"100vh"}}}));var Ut=function(){var e=Wt(ie);return n.a.createElement(M.a,{className:e.root},n.a.createElement(de.a,{variant:"h1"},"404 Error"),n.a.createElement(de.a,{variant:"h4"},"Nothing here :("))},Vt=Object(I.a)((function(e){return{root:Object(p.a)({margin:0,padding:0,background:function(e){return e.palette.dark.darkGray}},e.breakpoints.up("lg"),{paddingRight:"230px"}),homePgContainer:{maxWidth:"1400px",margin:"auto"},homePgItem:Object(p.a)({width:"50%",margin:"0"},e.breakpoints.down("sm"),{minWidth:"100vw"}),loginPageContainer:{display:"flex",width:"100vw",flexDirection:"column",position:"relative"}}}));var Ht=Object(B.b)((function(e){return{player:e.currentPlayer}}),(function(e){return{savePlayer:function(t){return e(v(t))}}}))((function(e){var t=Vt(ie),a=Object(r.useState)(!1),o=Object(m.a)(a,2),c=o[0],i=o[1],l=Object(r.useState)({}),p=Object(m.a)(l,2),g=(p[0],p[1]),f=function(){i(!c)},b=function(t){var a;e.savePlayer(t),a=t.token,S.emit("register client",a),"anonymous"!==t.type&&localStorage.setItem("connect_four_token",JSON.stringify(t.token))},y=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("connect_four_token"))||!1)){e.next=22;break}return e.prev=2,e.next=5,gt("tokenLogin",t);case 5:if(!(a=e.sent).ok){e.next=14;break}return e.t0=b,e.next=10,a.json();case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=17;break;case 14:return e.next=16,a.json();case 16:throw e.sent;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(2),g(e.t2);case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return y(),function(){var e;S.emit("remove client",e)}}),[]),n.a.createElement("div",{className:t.root},n.a.createElement(_e,{toggleDrawer:f}),e.player.token&&n.a.createElement(Bt,{isVisible:c,toggleDrawer:f}),n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:"/",render:function(){return e.player.token?n.a.createElement(d.a,{to:"/home"}):n.a.createElement("div",{className:t.loginPageContainer},n.a.createElement(Ft,null),n.a.createElement(ht,{registerPlayer:b}))}}),n.a.createElement(d.b,{exact:!0,path:"/home",render:function(){return e.player.token?n.a.createElement(L.a,{className:t.homePgContainer,container:!0,wrap:"wrap-reverse"},n.a.createElement(L.a,{item:!0,xs:6,className:t.homePgItem},n.a.createElement(Ee,null)),n.a.createElement(L.a,{item:!0,xs:6,className:t.homePgItem},n.a.createElement(rt,null))):n.a.createElement(d.a,{to:"/"})}}),n.a.createElement(d.b,{exact:!0,path:"/active_game",render:function(){return n.a.createElement(mt,null)}}),n.a.createElement(d.b,{component:Ut})))})),Yt=a(44),zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{players:[],messages:[]},t=arguments.length>1?arguments[1]:void 0,a=e.players,r=e.messages;switch(t.type){case"SET_GLOBAL_PLAYERS":return{players:t.players,messages:r};case"UPDATE_GLOBAL_PLAYERS":var n=t.player.player;if("delete"===t.player.update_type){var o=a.findIndex((function(e){return e.player_name===n.player_name}));return a.splice(o,1),{messages:r,players:Object(Je.a)(a)}}return{messages:r,players:[].concat(Object(Je.a)(a),[n])};case"UPDATE_GLOBAL_MESSAGES":return{players:a,messages:[].concat(Object(Je.a)(r),[t.message])};case"UPDATE_GLOBAL_CHAT":return{players:t.players,messages:t.messages};case"LOGOUT_USER":return{players:[],messages:[]};default:return e}};function Jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jt(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qt={gridX:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],prevSlot:[0,0,0],currentPlayer:null,status:"",messages:[],players:[null,null],winner:null},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0,a=t.data||e,r=a.prevSlot,n=Object(Je.a)(e.gridX);switch(r&&(n[r[0]][r[1]]=r[2]),t.type){case"UPDATE_ACTIVE_GAME":return{gridX:n,currentPlayer:t.data.currentPlayer,messages:e.messages,status:t.data.status,players:e.players,prevSlot:r,winner:qt.winner};case"UPDATE_INACTIVE_GAME":return{gridX:e.gridX,currentPlayer:e.currentPlayer,messages:e.messages,status:t.data.status,players:t.data.players,prevSlot:e.prevSlot,winner:null};case"UPDATE_ACTIVE_GAME_MSGS":return Xt({},e,{messages:[].concat(Object(Je.a)(e.messages),[t.data])});case"REMATCH_GAME_RESET":return{gridX:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],currentPlayer:qt.currentPlayer,messages:e.messages,status:"full",players:e.players,prevSlot:qt.prevSlot,winner:null};case"GAME_OVER":return Xt({},e,{winner:t.data.winner});case"RESET_GRID":return Xt({},e,{gridX:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]]});case"RESET_PLAYER_READY":return Xt({},e,{players:e.players.map((function(e){return e.isReady=!1,e}))});case"LEAVE_ACTIVE_GAME":return{gridX:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],prevSlot:[0,0,0],currentPlayer:null,status:"",messages:[],players:[null,null],winner:null};default:return e}},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_PLAYER_INFO":return t.player;case"LOGOUT_USER":return{};default:return e}},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=Object(Je.a)(e);switch(t.type){case"SET_ALL_GAME_ROOMS":return t.room;case"UPDATE_GAME_ROOM_LIST":var r=t.room,n=r.updateType,o=r.roomId;if("addRoom"===n)return[t.room].concat(Object(Je.a)(e));if("deleteRoom"===n){var c=e.findIndex((function(e){return e.roomId===o}));return a.splice(c,1),a}break;case"UPDATE_A_GAME_ROOM":if("updateRoom"===t.room.updateType){var i=e.findIndex((function(e){return e.roomId===t.room.roomId}));return a.splice(i,1,t.room),a}break;case"LOGOUT_USER":return[];default:return e}},Qt=Object(Yt.combineReducers)({worldChat:zt,currentGame:Zt,currentPlayer:$t,allGameRooms:Kt});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ea=a(127),ta=Object(Yt.createStore)(Qt,Object(ea.composeWithDevTools)());c.a.render(n.a.createElement(B.a,{store:ta},n.a.createElement(Rt.a,null,n.a.createElement(i.a,null),n.a.createElement(Ht,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}));var aa=t.default=ta}},[[139,1,2]]]);
//# sourceMappingURL=main.0dffde33.chunk.js.map